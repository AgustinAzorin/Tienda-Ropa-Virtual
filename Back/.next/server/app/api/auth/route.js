/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/route";
exports.ids = ["app/api/auth/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.ts&appDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.ts&appDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_pc_OneDrive_Documentos_GitHub_Tienda_Ropa_Virtual_Back_src_app_api_auth_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/auth/route.ts */ \"(rsc)/./src/app/api/auth/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_Users_pc_OneDrive_Documentos_GitHub_Tienda_Ropa_Virtual_Back_src_app_api_auth_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\nC_Users_pc_OneDrive_Documentos_GitHub_Tienda_Ropa_Virtual_Back_src_app_api_auth_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/route\",\n        pathname: \"/api/auth\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\pc\\\\OneDrive\\\\Documentos\\\\GitHub\\\\Tienda-Ropa-Virtual\\\\Back\\\\src\\\\app\\\\api\\\\auth\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_pc_OneDrive_Documentos_GitHub_Tienda_Ropa_Virtual_Back_src_app_api_auth_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNwYyU1Q09uZURyaXZlJTVDRG9jdW1lbnRvcyU1Q0dpdEh1YiU1Q1RpZW5kYS1Sb3BhLVZpcnR1YWwlNUNCYWNrJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNwYyU1Q09uZURyaXZlJTVDRG9jdW1lbnRvcyU1Q0dpdEh1YiU1Q1RpZW5kYS1Sb3BhLVZpcnR1YWwlNUNCYWNrJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ2dFO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3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Q0E7QUFDQSw2Q0FBNkMsMEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxccGNcXFxcT25lRHJpdmVcXFxcRG9jdW1lbnRvc1xcXFxHaXRIdWJcXFxcVGllbmRhLVJvcGEtVmlydHVhbFxcXFxCYWNrXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHBjXFxcXE9uZURyaXZlXFxcXERvY3VtZW50b3NcXFxcR2l0SHViXFxcXFRpZW5kYS1Sb3BhLVZpcnR1YWxcXFxcQmFja1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXV0aC9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.ts&appDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/auth/route.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/modules/auth/auth.service */ \"(rsc)/./src/modules/auth/auth.service.ts\");\n/* harmony import */ var _lib_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/response */ \"(rsc)/./src/lib/response.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/errors */ \"(rsc)/./src/lib/errors.ts\");\n/* harmony import */ var _lib_auth_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth-helpers */ \"(rsc)/./src/lib/auth-helpers.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__]);\n_modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n/** POST /api/auth?action=register   registro */ /** POST /api/auth                   login con contrasea */ async function POST(request) {\n    const url = request.nextUrl;\n    try {\n        const body = await request.json();\n        if (url.searchParams.get('action') === 'register') {\n            const result = await _modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.authService.register({\n                email: body.email,\n                password: body.password\n            });\n            return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.created)(result);\n        }\n        // Default: login\n        const result = await _modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.authService.loginWithPassword({\n            email: body.email,\n            password: body.password\n        });\n        return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.ok)(result);\n    } catch (err) {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_3__.handleError)(err);\n    }\n}\n/** DELETE /api/auth  logout (revoca el refresh token enviado) */ async function DELETE(request) {\n    try {\n        const userId = await (0,_lib_auth_helpers__WEBPACK_IMPORTED_MODULE_4__.requireUserId)(request);\n        const body = await request.json().catch(()=>({}));\n        await _modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.authService.logout(userId, body?.refreshToken);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n            status: 204\n        });\n    } catch (err) {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_3__.handleError)(err);\n    }\n}\n/** GET /api/auth?action=oauth&provider=google  redirige a OAuth */ async function GET(request) {\n    const provider = request.nextUrl.searchParams.get('provider');\n    try {\n        if (provider === 'google') {\n            const { url } = await _modules_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.authService.loginWithOAuth('google');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'provider no soportado'\n        }, {\n            status: 400\n        });\n    } catch (err) {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_3__.handleError)(err);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZEO0FBQ0g7QUFDYjtBQUNGO0FBQ1E7QUFFbkQsK0NBQStDLEdBQy9DLDJEQUEyRCxHQUNwRCxlQUFlTSxLQUFLQyxPQUFvQjtJQUM3QyxNQUFNQyxNQUFNRCxRQUFRRSxPQUFPO0lBQzNCLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ILFFBQVFJLElBQUk7UUFFL0IsSUFBSUgsSUFBSUksWUFBWSxDQUFDQyxHQUFHLENBQUMsY0FBYyxZQUFZO1lBQ2pELE1BQU1DLFNBQVMsTUFBTWIsbUVBQVdBLENBQUNjLFFBQVEsQ0FBQztnQkFDeENDLE9BQVVOLEtBQUtNLEtBQUs7Z0JBQ3BCQyxVQUFVUCxLQUFLTyxRQUFRO1lBQ3pCO1lBQ0EsT0FBT2Qsc0RBQU9BLENBQUNXO1FBQ2pCO1FBRUEsaUJBQWlCO1FBQ2pCLE1BQU1BLFNBQVMsTUFBTWIsbUVBQVdBLENBQUNpQixpQkFBaUIsQ0FBQztZQUNqREYsT0FBVU4sS0FBS00sS0FBSztZQUNwQkMsVUFBVVAsS0FBS08sUUFBUTtRQUN6QjtRQUNBLE9BQU9mLGlEQUFFQSxDQUFDWTtJQUNaLEVBQUUsT0FBT0ssS0FBSztRQUNaLE9BQU9mLHdEQUFXQSxDQUFDZTtJQUNyQjtBQUNGO0FBRUEsZ0VBQWdFLEdBQ3pELGVBQWVDLE9BQU9iLE9BQW9CO0lBQy9DLElBQUk7UUFDRixNQUFNYyxTQUFTLE1BQU1oQixnRUFBYUEsQ0FBQ0U7UUFDbkMsTUFBTUcsT0FBUyxNQUFNSCxRQUFRSSxJQUFJLEdBQUdXLEtBQUssQ0FBQyxJQUFPLEVBQUM7UUFDbEQsTUFBTXJCLG1FQUFXQSxDQUFDc0IsTUFBTSxDQUFDRixRQUFRWCxNQUFNYztRQUN2QyxPQUFPLElBQUl4QixxREFBWUEsQ0FBQyxNQUFNO1lBQUV5QixRQUFRO1FBQUk7SUFDOUMsRUFBRSxPQUFPTixLQUFLO1FBQ1osT0FBT2Ysd0RBQVdBLENBQUNlO0lBQ3JCO0FBQ0Y7QUFFQSxrRUFBa0UsR0FDM0QsZUFBZU8sSUFBSW5CLE9BQW9CO0lBQzVDLE1BQU1vQixXQUFXcEIsUUFBUUUsT0FBTyxDQUFDRyxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUNsRCxJQUFJO1FBQ0YsSUFBSWMsYUFBYSxVQUFVO1lBQ3pCLE1BQU0sRUFBRW5CLEdBQUcsRUFBRSxHQUFHLE1BQU1QLG1FQUFXQSxDQUFDMkIsY0FBYyxDQUFDO1lBQ2pELE9BQU81QixxREFBWUEsQ0FBQzZCLFFBQVEsQ0FBQ3JCO1FBQy9CO1FBQ0EsT0FBT1IscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFbUIsT0FBTztRQUF3QixHQUFHO1lBQUVMLFFBQVE7UUFBSTtJQUM3RSxFQUFFLE9BQU9OLEtBQUs7UUFDWixPQUFPZix3REFBV0EsQ0FBQ2U7SUFDckI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxhcHBcXGFwaVxcYXV0aFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBhdXRoU2VydmljZSB9IGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IG9rLCBjcmVhdGVkIH0gZnJvbSAnQC9saWIvcmVzcG9uc2UnO1xyXG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJ0AvbGliL2Vycm9ycyc7XHJcbmltcG9ydCB7IHJlcXVpcmVVc2VySWQgfSBmcm9tICdAL2xpYi9hdXRoLWhlbHBlcnMnO1xyXG5cclxuLyoqIFBPU1QgL2FwaS9hdXRoP2FjdGlvbj1yZWdpc3RlciAg4oaSIHJlZ2lzdHJvICovXHJcbi8qKiBQT1NUIC9hcGkvYXV0aCAgICAgICAgICAgICAgICAgIOKGkiBsb2dpbiBjb24gY29udHJhc2XDsWEgKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCB1cmwgPSByZXF1ZXN0Lm5leHRVcmw7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2FjdGlvbicpID09PSAncmVnaXN0ZXInKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLnJlZ2lzdGVyKHtcclxuICAgICAgICBlbWFpbDogICAgYm9keS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBjcmVhdGVkKHJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVmYXVsdDogbG9naW5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLmxvZ2luV2l0aFBhc3N3b3JkKHtcclxuICAgICAgZW1haWw6ICAgIGJvZHkuZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiBib2R5LnBhc3N3b3JkLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2socmVzdWx0KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqIERFTEVURSAvYXBpL2F1dGgg4oaSIGxvZ291dCAocmV2b2NhIGVsIHJlZnJlc2ggdG9rZW4gZW52aWFkbykgKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCByZXF1aXJlVXNlcklkKHJlcXVlc3QpO1xyXG4gICAgY29uc3QgYm9keSAgID0gYXdhaXQgcmVxdWVzdC5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICBhd2FpdCBhdXRoU2VydmljZS5sb2dvdXQodXNlcklkLCBib2R5Py5yZWZyZXNoVG9rZW4pO1xyXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDIwNCB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqIEdFVCAvYXBpL2F1dGg/YWN0aW9uPW9hdXRoJnByb3ZpZGVyPWdvb2dsZSDihpIgcmVkaXJpZ2UgYSBPQXV0aCAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3QgcHJvdmlkZXIgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgncHJvdmlkZXInKSBhcyAnZ29vZ2xlJyB8IG51bGw7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChwcm92aWRlciA9PT0gJ2dvb2dsZScpIHtcclxuICAgICAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IGF1dGhTZXJ2aWNlLmxvZ2luV2l0aE9BdXRoKCdnb29nbGUnKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdwcm92aWRlciBubyBzb3BvcnRhZG8nIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gaGFuZGxlRXJyb3IoZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhdXRoU2VydmljZSIsIm9rIiwiY3JlYXRlZCIsImhhbmRsZUVycm9yIiwicmVxdWlyZVVzZXJJZCIsIlBPU1QiLCJyZXF1ZXN0IiwidXJsIiwibmV4dFVybCIsImJvZHkiLCJqc29uIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwicmVzdWx0IiwicmVnaXN0ZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwibG9naW5XaXRoUGFzc3dvcmQiLCJlcnIiLCJERUxFVEUiLCJ1c2VySWQiLCJjYXRjaCIsImxvZ291dCIsInJlZnJlc2hUb2tlbiIsInN0YXR1cyIsIkdFVCIsInByb3ZpZGVyIiwibG9naW5XaXRoT0F1dGgiLCJyZWRpcmVjdCIsImVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/client.ts":
/*!**************************!*\
  !*** ./src/db/client.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/postgres-js */ \"(rsc)/./node_modules/drizzle-orm/postgres-js/driver.js\");\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"postgres\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/db/schema/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([postgres__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__]);\n([postgres__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nfunction createClient() {\n    return (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(process.env.DATABASE_URL, {\n        prepare: false,\n        max: 10,\n        idle_timeout: 5,\n        max_lifetime: 60 * 30,\n        connect_timeout: 30,\n        onnotice: ()=>{}\n    });\n}\nconst isDev = \"development\" !== 'production';\n// Suprimir ECONNRESET en dev: ocurre cuando Next.js aborta una request\n// en vuelo (HMR, navegacin rpida) y pgBouncer cierra la conexin TCP.\nif (isDev && typeof process !== 'undefined') {\n    process.on('uncaughtException', (err)=>{\n        if (err.code === 'ECONNRESET' || err.message === 'aborted') return;\n        throw err;\n    });\n}\nconst sql = isDev ? globalThis._pgClient ??= createClient() : createClient();\nconst db = isDev ? globalThis._drizzleDb ??= (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__.drizzle)(sql, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n}) : (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__.drizzle)(sql, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvY2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0Q7QUFFbEI7QUFDRztBQWNuQyxTQUFTRztJQUNQLE9BQU9GLG9EQUFRQSxDQUFDRyxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFBRztRQUN6Q0MsU0FBZ0I7UUFDaEJDLEtBQWdCO1FBQ2hCQyxjQUFnQjtRQUNoQkMsY0FBZ0IsS0FBSztRQUNyQkMsaUJBQWlCO1FBQ2pCQyxVQUFnQixLQUFPO0lBQ3pCO0FBQ0Y7QUFFQSxNQUFNQyxRQUFRVCxrQkFBeUI7QUFFdkMsdUVBQXVFO0FBQ3ZFLHdFQUF3RTtBQUN4RSxJQUFJUyxTQUFTLE9BQU9ULFlBQVksYUFBYTtJQUMzQ0EsUUFBUVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDQztRQUMvQixJQUFJQSxJQUFJQyxJQUFJLEtBQUssZ0JBQWdCLElBQW1DQyxPQUFPLEtBQUssV0FBVztRQUMzRixNQUFNRjtJQUNSO0FBQ0Y7QUFFQSxNQUFNRyxNQUFvQkwsUUFDckJNLFdBQVdDLFNBQVMsS0FBS2pCLGlCQUMxQkE7QUFFRyxNQUFNa0IsS0FBd0NSLFFBQ2hETSxXQUFXRyxVQUFVLEtBQUt0QixnRUFBT0EsQ0FBQ2tCLEtBQUs7SUFBRWhCLE1BQU1BLHNDQUFBQTtBQUFDLEtBQ2pERixnRUFBT0EsQ0FBQ2tCLEtBQUs7SUFBRWhCLE1BQU1BLHNDQUFBQTtBQUFDLEdBQUciLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccGNcXE9uZURyaXZlXFxEb2N1bWVudG9zXFxHaXRIdWJcXFRpZW5kYS1Sb3BhLVZpcnR1YWxcXEJhY2tcXHNyY1xcZGJcXGNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcml6emxlIH0gZnJvbSAnZHJpenpsZS1vcm0vcG9zdGdyZXMtanMnO1xyXG5pbXBvcnQgdHlwZSB7IFBvc3RncmVzSnNEYXRhYmFzZSB9IGZyb20gJ2RyaXp6bGUtb3JtL3Bvc3RncmVzLWpzJztcclxuaW1wb3J0IHBvc3RncmVzIGZyb20gJ3Bvc3RncmVzJztcclxuaW1wb3J0ICogYXMgc2NoZW1hIGZyb20gJy4vc2NoZW1hJztcclxuXHJcbi8vIOKUgOKUgCBTaW5nbGV0b24gc2VndXJvIHBhcmEgSE1SIGVuIE5leHQuanMgZGV2IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4vLyBFbiBwcm9kdWNjacOzbiBzaWVtcHJlIHNlIGNyZWEgdW5hIGluc3RhbmNpYSBudWV2YSAobcOzZHVsb3Mgbm8gc2UgcmVjYXJnYW4pLlxyXG4vLyBFbiBkZXNhcnJvbGxvLCBOZXh0LmpzIHJlY2FyZ2EgbcOzZHVsb3MgZW4gY2FsaWVudGUgeSBjcmVhIG3Dumx0aXBsZXMgcG9vbHNcclxuLy8gc2kgbm8gc2UgZ3VhcmRhIGxhIHJlZmVyZW5jaWEgZW4gZ2xvYmFsVGhpcywgbG8gcXVlIGdlbmVyYSBFQ09OTlJFU0VULlxyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcclxuICB2YXIgX3BnQ2xpZW50OiBwb3N0Z3Jlcy5TcWwgfCB1bmRlZmluZWQ7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxyXG4gIHZhciBfZHJpenpsZURiOiBQb3N0Z3Jlc0pzRGF0YWJhc2U8dHlwZW9mIHNjaGVtYT4gfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpOiBwb3N0Z3Jlcy5TcWwge1xyXG4gIHJldHVybiBwb3N0Z3Jlcyhwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwhLCB7XHJcbiAgICBwcmVwYXJlOiAgICAgICAgZmFsc2UsICAvLyByZXF1ZXJpZG8gcGFyYSBTdXBhYmFzZSBwZ0JvdW5jZXIgKHRyYW5zYWN0aW9uIG1vZGUpXHJcbiAgICBtYXg6ICAgICAgICAgICAgMTAsXHJcbiAgICBpZGxlX3RpbWVvdXQ6ICAgNSwgICAgICAvLyBsaWJlcmFyIGFudGVzIGRlIHF1ZSBwZ0JvdW5jZXIgY2llcnJlIGxhIGNvbmV4acOzbiAofjYwMHMpXHJcbiAgICBtYXhfbGlmZXRpbWU6ICAgNjAgKiAzMCwgLy8gMzAgbWluIOKAlCBwb3IgZGViYWpvIGRlbCBzZXJ2ZXJfbGlmZXRpbWUgZGUgcGdCb3VuY2VyXHJcbiAgICBjb25uZWN0X3RpbWVvdXQ6IDMwLFxyXG4gICAgb25ub3RpY2U6ICAgICAgICgpID0+IHt9LCAgLy8gc2lsZW5jaWFyIG5vdGljZXMgZGUgUG9zdGdyZXNcclxuICB9KTtcclxufVxyXG5cclxuY29uc3QgaXNEZXYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xyXG5cclxuLy8gU3VwcmltaXIgRUNPTk5SRVNFVCBlbiBkZXY6IG9jdXJyZSBjdWFuZG8gTmV4dC5qcyBhYm9ydGEgdW5hIHJlcXVlc3RcclxuLy8gZW4gdnVlbG8gKEhNUiwgbmF2ZWdhY2nDs24gcsOhcGlkYSkgeSBwZ0JvdW5jZXIgY2llcnJhIGxhIGNvbmV4acOzbiBUQ1AuXHJcbmlmIChpc0RldiAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnI6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbikgPT4ge1xyXG4gICAgaWYgKGVyci5jb2RlID09PSAnRUNPTk5SRVNFVCcgfHwgKGVyciBhcyBFcnJvciAmIHsgY29kZT86IHN0cmluZyB9KS5tZXNzYWdlID09PSAnYWJvcnRlZCcpIHJldHVybjtcclxuICAgIHRocm93IGVycjtcclxuICB9KTtcclxufVxyXG5cclxuY29uc3Qgc3FsOiBwb3N0Z3Jlcy5TcWwgPSBpc0RldlxyXG4gID8gKGdsb2JhbFRoaXMuX3BnQ2xpZW50ID8/PSBjcmVhdGVDbGllbnQoKSlcclxuICA6IGNyZWF0ZUNsaWVudCgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRiOiBQb3N0Z3Jlc0pzRGF0YWJhc2U8dHlwZW9mIHNjaGVtYT4gPSBpc0RldlxyXG4gID8gKGdsb2JhbFRoaXMuX2RyaXp6bGVEYiA/Pz0gZHJpenpsZShzcWwsIHsgc2NoZW1hIH0pKVxyXG4gIDogZHJpenpsZShzcWwsIHsgc2NoZW1hIH0pO1xyXG5cclxuZXhwb3J0IHR5cGUgREIgPSB0eXBlb2YgZGI7XHJcbiJdLCJuYW1lcyI6WyJkcml6emxlIiwicG9zdGdyZXMiLCJzY2hlbWEiLCJjcmVhdGVDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwicHJlcGFyZSIsIm1heCIsImlkbGVfdGltZW91dCIsIm1heF9saWZldGltZSIsImNvbm5lY3RfdGltZW91dCIsIm9ubm90aWNlIiwiaXNEZXYiLCJvbiIsImVyciIsImNvZGUiLCJtZXNzYWdlIiwic3FsIiwiZ2xvYmFsVGhpcyIsIl9wZ0NsaWVudCIsImRiIiwiX2RyaXp6bGVEYiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/db/client.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/catalog.schema.ts":
/*!*****************************************!*\
  !*** ./src/db/schema/catalog.schema.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   brands: () => (/* binding */ brands),\n/* harmony export */   categories: () => (/* binding */ categories),\n/* harmony export */   priceHistory: () => (/* binding */ priceHistory),\n/* harmony export */   product3dAssets: () => (/* binding */ product3dAssets),\n/* harmony export */   product3dAssetsRelations: () => (/* binding */ product3dAssetsRelations),\n/* harmony export */   product3dTextures: () => (/* binding */ product3dTextures),\n/* harmony export */   productFitAnchors: () => (/* binding */ productFitAnchors),\n/* harmony export */   productImages: () => (/* binding */ productImages),\n/* harmony export */   productVariants: () => (/* binding */ productVariants),\n/* harmony export */   productVariantsRelations: () => (/* binding */ productVariantsRelations),\n/* harmony export */   products: () => (/* binding */ products),\n/* harmony export */   productsRelations: () => (/* binding */ productsRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n\n\n//  brands \nconst brands = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('brands', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('name').notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('slug').unique().notNull(),\n    logo_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('logo_url'),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('description'),\n    is_active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('is_active').notNull().default(true)\n});\n//  categories \nconst categories = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('categories', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    parent_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('parent_id'),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('name').notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('slug').unique().notNull(),\n    image_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('image_url'),\n    sort_order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('sort_order').notNull().default(0)\n});\n//  products \nconst products = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('products', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    brand_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('brand_id').notNull().references(()=>brands.id),\n    category_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('category_id').notNull().references(()=>categories.id),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('name').notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('slug').unique().notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('description'),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('price', {\n        precision: 12,\n        scale: 2\n    }).notNull(),\n    compare_at_price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('compare_at_price', {\n        precision: 12,\n        scale: 2\n    }),\n    currency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('currency').notNull().default('ARS'),\n    is_active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('is_active').notNull().default(true),\n    has_3d_model: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('has_3d_model').notNull().default(false),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('tags').array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.sql)`'{}'::text[]`),\n    metadata: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)('metadata'),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  product_variants \nconst productVariants = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('product_variants', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('product_id').notNull().references(()=>products.id, {\n        onDelete: 'cascade'\n    }),\n    size: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('size'),\n    color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('color'),\n    color_hex: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('color_hex'),\n    sku: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('sku').unique().notNull(),\n    stock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('stock').notNull().default(0),\n    price_override: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('price_override', {\n        precision: 12,\n        scale: 2\n    }),\n    weight_g: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('weight_g')\n});\n//  product_images \nconst productImages = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('product_images', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('product_id').notNull().references(()=>products.id, {\n        onDelete: 'cascade'\n    }),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('variant_id').references(()=>productVariants.id, {\n        onDelete: 'set null'\n    }),\n    url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('url').notNull(),\n    alt_text: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('alt_text'),\n    sort_order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('sort_order').notNull().default(0),\n    is_primary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('is_primary').notNull().default(false)\n});\n//  product_3d_assets \nconst product3dAssets = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('product_3d_assets', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('product_id').notNull().references(()=>products.id, {\n        onDelete: 'cascade'\n    }),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('variant_id').references(()=>productVariants.id, {\n        onDelete: 'set null'\n    }),\n    model_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('model_url').notNull(),\n    draco_compressed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('draco_compressed').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  product_3d_textures \nconst product3dTextures = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('product_3d_textures', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    asset_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('asset_id').notNull().references(()=>product3dAssets.id, {\n        onDelete: 'cascade'\n    }),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('type').notNull(),\n    url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('url').notNull()\n});\n//  product_fit_anchors \nconst productFitAnchors = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('product_fit_anchors', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    asset_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('asset_id').notNull().references(()=>product3dAssets.id, {\n        onDelete: 'cascade'\n    }),\n    anchor_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('anchor_name').notNull(),\n    x: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('x').notNull(),\n    y: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('y').notNull(),\n    z: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('z').notNull()\n});\n//  price_history (para bitemporalidad y auditora ARS) \nconst priceHistory = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('price_history', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('product_id').notNull().references(()=>products.id, {\n        onDelete: 'cascade'\n    }),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.numeric)('price', {\n        precision: 12,\n        scale: 2\n    }).notNull(),\n    currency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('currency').notNull().default('ARS'),\n    valid_from: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.timestamp)('valid_from', {\n        withTimezone: true\n    }).notNull(),\n    valid_to: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.timestamp)('valid_to', {\n        withTimezone: true\n    }),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  Relations \nconst productsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.relations)(products, ({ one, many })=>({\n        brand: one(brands, {\n            fields: [\n                products.brand_id\n            ],\n            references: [\n                brands.id\n            ]\n        }),\n        category: one(categories, {\n            fields: [\n                products.category_id\n            ],\n            references: [\n                categories.id\n            ]\n        }),\n        variants: many(productVariants),\n        images: many(productImages),\n        assets3d: many(product3dAssets),\n        priceHistory: many(priceHistory)\n    }));\nconst productVariantsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.relations)(productVariants, ({ one })=>({\n        product: one(products, {\n            fields: [\n                productVariants.product_id\n            ],\n            references: [\n                products.id\n            ]\n        })\n    }));\nconst product3dAssetsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.relations)(product3dAssets, ({ one, many })=>({\n        product: one(products, {\n            fields: [\n                product3dAssets.product_id\n            ],\n            references: [\n                products.id\n            ]\n        }),\n        textures: many(product3dTextures),\n        anchors: many(productFitAnchors)\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBRUcsTUFBTVksMkJBQTJCeEUsc0RBQVNBLENBQUNrQyxpQkFBaUIsQ0FBQyxFQUFFOEIsR0FBRyxFQUFFLEdBQU07UUFDL0VTLFNBQVNULElBQUk5QyxVQUFVO1lBQUVpRCxRQUFRO2dCQUFDakMsZ0JBQWdCQyxVQUFVO2FBQUM7WUFBRWYsWUFBWTtnQkFBQ0YsU0FBU2YsRUFBRTthQUFDO1FBQUM7SUFDM0YsSUFBSTtBQUVHLE1BQU11RSwyQkFBMkIxRSxzREFBU0EsQ0FBQ2lELGlCQUFpQixDQUFDLEVBQUVlLEdBQUcsRUFBRUMsSUFBSSxFQUFFLEdBQU07UUFDckZRLFNBQVVULElBQUk5QyxVQUFVO1lBQUVpRCxRQUFRO2dCQUFDbEIsZ0JBQWdCZCxVQUFVO2FBQUM7WUFBRWYsWUFBWTtnQkFBQ0YsU0FBU2YsRUFBRTthQUFDO1FBQUM7UUFDMUZ3RSxVQUFVVixLQUFLYjtRQUNmd0IsU0FBVVgsS0FBS1Y7SUFDakIsSUFBSSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxkYlxcc2NoZW1hXFxjYXRhbG9nLnNjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIHBnVGFibGUsIHV1aWQsIHRleHQsIG51bWVyaWMsIGJvb2xlYW4sIGludGVnZXIsXHJcbiAgdGltZXN0YW1wLCBqc29uYixcclxufSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcclxuaW1wb3J0IHsgcmVsYXRpb25zLCBzcWwgfSBmcm9tICdkcml6emxlLW9ybSc7XHJcblxyXG4vLyDilIDilIAgYnJhbmRzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgYnJhbmRzID0gcGdUYWJsZSgnYnJhbmRzJywge1xyXG4gIGlkOiAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgbmFtZTogICAgICAgIHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXHJcbiAgc2x1ZzogICAgICAgIHRleHQoJ3NsdWcnKS51bmlxdWUoKS5ub3ROdWxsKCksXHJcbiAgbG9nb191cmw6ICAgIHRleHQoJ2xvZ29fdXJsJyksXHJcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgaXNfYWN0aXZlOiAgIGJvb2xlYW4oJ2lzX2FjdGl2ZScpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBjYXRlZ29yaWVzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgY2F0ZWdvcmllcyA9IHBnVGFibGUoJ2NhdGVnb3JpZXMnLCB7XHJcbiAgaWQ6ICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHBhcmVudF9pZDogIHV1aWQoJ3BhcmVudF9pZCcpLFxyXG4gIG5hbWU6ICAgICAgIHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXHJcbiAgc2x1ZzogICAgICAgdGV4dCgnc2x1ZycpLnVuaXF1ZSgpLm5vdE51bGwoKSxcclxuICBpbWFnZV91cmw6ICB0ZXh0KCdpbWFnZV91cmwnKSxcclxuICBzb3J0X29yZGVyOiBpbnRlZ2VyKCdzb3J0X29yZGVyJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIHByb2R1Y3RzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgcHJvZHVjdHMgPSBwZ1RhYmxlKCdwcm9kdWN0cycsIHtcclxuICBpZDogICAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgYnJhbmRfaWQ6ICAgICAgICAgdXVpZCgnYnJhbmRfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBicmFuZHMuaWQpLFxyXG4gIGNhdGVnb3J5X2lkOiAgICAgIHV1aWQoJ2NhdGVnb3J5X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2F0ZWdvcmllcy5pZCksXHJcbiAgbmFtZTogICAgICAgICAgICAgdGV4dCgnbmFtZScpLm5vdE51bGwoKSxcclxuICBzbHVnOiAgICAgICAgICAgICB0ZXh0KCdzbHVnJykudW5pcXVlKCkubm90TnVsbCgpLFxyXG4gIGRlc2NyaXB0aW9uOiAgICAgIHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgcHJpY2U6ICAgICAgICAgICAgbnVtZXJpYygncHJpY2UnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLm5vdE51bGwoKSxcclxuICBjb21wYXJlX2F0X3ByaWNlOiBudW1lcmljKCdjb21wYXJlX2F0X3ByaWNlJywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KSxcclxuICBjdXJyZW5jeTogICAgICAgICB0ZXh0KCdjdXJyZW5jeScpLm5vdE51bGwoKS5kZWZhdWx0KCdBUlMnKSxcclxuICBpc19hY3RpdmU6ICAgICAgICBib29sZWFuKCdpc19hY3RpdmUnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBoYXNfM2RfbW9kZWw6ICAgICBib29sZWFuKCdoYXNfM2RfbW9kZWwnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgdGFnczogICAgICAgICAgICAgdGV4dCgndGFncycpLmFycmF5KCkubm90TnVsbCgpLmRlZmF1bHQoc3FsYCd7fSc6OnRleHRbXWApLFxyXG4gIG1ldGFkYXRhOiAgICAgICAgIGpzb25iKCdtZXRhZGF0YScpLFxyXG4gIGNyZWF0ZWRfYXQ6ICAgICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIHByb2R1Y3RfdmFyaWFudHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0VmFyaWFudHMgPSBwZ1RhYmxlKCdwcm9kdWN0X3ZhcmlhbnRzJywge1xyXG4gIGlkOiAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgcHJvZHVjdF9pZDogICAgIHV1aWQoJ3Byb2R1Y3RfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHNpemU6ICAgICAgICAgICB0ZXh0KCdzaXplJyksXHJcbiAgY29sb3I6ICAgICAgICAgIHRleHQoJ2NvbG9yJyksXHJcbiAgY29sb3JfaGV4OiAgICAgIHRleHQoJ2NvbG9yX2hleCcpLFxyXG4gIHNrdTogICAgICAgICAgICB0ZXh0KCdza3UnKS51bmlxdWUoKS5ub3ROdWxsKCksXHJcbiAgc3RvY2s6ICAgICAgICAgIGludGVnZXIoJ3N0b2NrJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgcHJpY2Vfb3ZlcnJpZGU6IG51bWVyaWMoJ3ByaWNlX292ZXJyaWRlJywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KSxcclxuICB3ZWlnaHRfZzogICAgICAgaW50ZWdlcignd2VpZ2h0X2cnKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcHJvZHVjdF9pbWFnZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0SW1hZ2VzID0gcGdUYWJsZSgncHJvZHVjdF9pbWFnZXMnLCB7XHJcbiAgaWQ6ICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHByb2R1Y3RfaWQ6IHV1aWQoJ3Byb2R1Y3RfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHZhcmlhbnRfaWQ6IHV1aWQoJ3ZhcmlhbnRfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RWYXJpYW50cy5pZCwgeyBvbkRlbGV0ZTogJ3NldCBudWxsJyB9KSxcclxuICB1cmw6ICAgICAgICB0ZXh0KCd1cmwnKS5ub3ROdWxsKCksXHJcbiAgYWx0X3RleHQ6ICAgdGV4dCgnYWx0X3RleHQnKSxcclxuICBzb3J0X29yZGVyOiBpbnRlZ2VyKCdzb3J0X29yZGVyJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgaXNfcHJpbWFyeTogYm9vbGVhbignaXNfcHJpbWFyeScpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcHJvZHVjdF8zZF9hc3NldHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0M2RBc3NldHMgPSBwZ1RhYmxlKCdwcm9kdWN0XzNkX2Fzc2V0cycsIHtcclxuICBpZDogICAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgcHJvZHVjdF9pZDogICAgICAgdXVpZCgncHJvZHVjdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgdmFyaWFudF9pZDogICAgICAgdXVpZCgndmFyaWFudF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdFZhcmlhbnRzLmlkLCB7IG9uRGVsZXRlOiAnc2V0IG51bGwnIH0pLFxyXG4gIG1vZGVsX3VybDogICAgICAgIHRleHQoJ21vZGVsX3VybCcpLm5vdE51bGwoKSxcclxuICBkcmFjb19jb21wcmVzc2VkOiBib29sZWFuKCdkcmFjb19jb21wcmVzc2VkJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxyXG4gIGNyZWF0ZWRfYXQ6ICAgICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIHByb2R1Y3RfM2RfdGV4dHVyZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0M2RUZXh0dXJlcyA9IHBnVGFibGUoJ3Byb2R1Y3RfM2RfdGV4dHVyZXMnLCB7XHJcbiAgaWQ6ICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICBhc3NldF9pZDogdXVpZCgnYXNzZXRfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0M2RBc3NldHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB0eXBlOiAgICAgdGV4dCgndHlwZScpLm5vdE51bGwoKSxcclxuICB1cmw6ICAgICAgdGV4dCgndXJsJykubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBwcm9kdWN0X2ZpdF9hbmNob3JzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgcHJvZHVjdEZpdEFuY2hvcnMgPSBwZ1RhYmxlKCdwcm9kdWN0X2ZpdF9hbmNob3JzJywge1xyXG4gIGlkOiAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgYXNzZXRfaWQ6ICAgIHV1aWQoJ2Fzc2V0X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdDNkQXNzZXRzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgYW5jaG9yX25hbWU6IHRleHQoJ2FuY2hvcl9uYW1lJykubm90TnVsbCgpLFxyXG4gIHg6ICAgICAgICAgICBudW1lcmljKCd4Jykubm90TnVsbCgpLFxyXG4gIHk6ICAgICAgICAgICBudW1lcmljKCd5Jykubm90TnVsbCgpLFxyXG4gIHo6ICAgICAgICAgICBudW1lcmljKCd6Jykubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBwcmljZV9oaXN0b3J5IChwYXJhIGJpdGVtcG9yYWxpZGFkIHkgYXVkaXRvcsOtYSBBUlMpIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgcHJpY2VIaXN0b3J5ID0gcGdUYWJsZSgncHJpY2VfaGlzdG9yeScsIHtcclxuICBpZDogICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgcHJvZHVjdF9pZDogdXVpZCgncHJvZHVjdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcHJpY2U6ICAgICAgbnVtZXJpYygncHJpY2UnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLm5vdE51bGwoKSxcclxuICBjdXJyZW5jeTogICB0ZXh0KCdjdXJyZW5jeScpLm5vdE51bGwoKS5kZWZhdWx0KCdBUlMnKSxcclxuICB2YWxpZF9mcm9tOiB0aW1lc3RhbXAoJ3ZhbGlkX2Zyb20nLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCksXHJcbiAgdmFsaWRfdG86ICAgdGltZXN0YW1wKCd2YWxpZF90bycsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLFxyXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIFJlbGF0aW9ucyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHByb2R1Y3RzUmVsYXRpb25zID0gcmVsYXRpb25zKHByb2R1Y3RzLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICBicmFuZDogICAgb25lKGJyYW5kcywgeyBmaWVsZHM6IFtwcm9kdWN0cy5icmFuZF9pZF0sIHJlZmVyZW5jZXM6IFticmFuZHMuaWRdIH0pLFxyXG4gIGNhdGVnb3J5OiBvbmUoY2F0ZWdvcmllcywgeyBmaWVsZHM6IFtwcm9kdWN0cy5jYXRlZ29yeV9pZF0sIHJlZmVyZW5jZXM6IFtjYXRlZ29yaWVzLmlkXSB9KSxcclxuICB2YXJpYW50czogbWFueShwcm9kdWN0VmFyaWFudHMpLFxyXG4gIGltYWdlczogICBtYW55KHByb2R1Y3RJbWFnZXMpLFxyXG4gIGFzc2V0czNkOiBtYW55KHByb2R1Y3QzZEFzc2V0cyksXHJcbiAgcHJpY2VIaXN0b3J5OiBtYW55KHByaWNlSGlzdG9yeSksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0VmFyaWFudHNSZWxhdGlvbnMgPSByZWxhdGlvbnMocHJvZHVjdFZhcmlhbnRzLCAoeyBvbmUgfSkgPT4gKHtcclxuICBwcm9kdWN0OiBvbmUocHJvZHVjdHMsIHsgZmllbGRzOiBbcHJvZHVjdFZhcmlhbnRzLnByb2R1Y3RfaWRdLCByZWZlcmVuY2VzOiBbcHJvZHVjdHMuaWRdIH0pLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZHVjdDNkQXNzZXRzUmVsYXRpb25zID0gcmVsYXRpb25zKHByb2R1Y3QzZEFzc2V0cywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgcHJvZHVjdDogIG9uZShwcm9kdWN0cywgeyBmaWVsZHM6IFtwcm9kdWN0M2RBc3NldHMucHJvZHVjdF9pZF0sIHJlZmVyZW5jZXM6IFtwcm9kdWN0cy5pZF0gfSksXHJcbiAgdGV4dHVyZXM6IG1hbnkocHJvZHVjdDNkVGV4dHVyZXMpLFxyXG4gIGFuY2hvcnM6ICBtYW55KHByb2R1Y3RGaXRBbmNob3JzKSxcclxufSkpO1xyXG4iXSwibmFtZXMiOlsicGdUYWJsZSIsInV1aWQiLCJ0ZXh0IiwibnVtZXJpYyIsImJvb2xlYW4iLCJpbnRlZ2VyIiwidGltZXN0YW1wIiwianNvbmIiLCJyZWxhdGlvbnMiLCJzcWwiLCJicmFuZHMiLCJpZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwibmFtZSIsIm5vdE51bGwiLCJzbHVnIiwidW5pcXVlIiwibG9nb191cmwiLCJkZXNjcmlwdGlvbiIsImlzX2FjdGl2ZSIsImRlZmF1bHQiLCJjYXRlZ29yaWVzIiwicGFyZW50X2lkIiwiaW1hZ2VfdXJsIiwic29ydF9vcmRlciIsInByb2R1Y3RzIiwiYnJhbmRfaWQiLCJyZWZlcmVuY2VzIiwiY2F0ZWdvcnlfaWQiLCJwcmljZSIsInByZWNpc2lvbiIsInNjYWxlIiwiY29tcGFyZV9hdF9wcmljZSIsImN1cnJlbmN5IiwiaGFzXzNkX21vZGVsIiwidGFncyIsImFycmF5IiwibWV0YWRhdGEiLCJjcmVhdGVkX2F0Iiwid2l0aFRpbWV6b25lIiwiZGVmYXVsdE5vdyIsInByb2R1Y3RWYXJpYW50cyIsInByb2R1Y3RfaWQiLCJvbkRlbGV0ZSIsInNpemUiLCJjb2xvciIsImNvbG9yX2hleCIsInNrdSIsInN0b2NrIiwicHJpY2Vfb3ZlcnJpZGUiLCJ3ZWlnaHRfZyIsInByb2R1Y3RJbWFnZXMiLCJ2YXJpYW50X2lkIiwidXJsIiwiYWx0X3RleHQiLCJpc19wcmltYXJ5IiwicHJvZHVjdDNkQXNzZXRzIiwibW9kZWxfdXJsIiwiZHJhY29fY29tcHJlc3NlZCIsInByb2R1Y3QzZFRleHR1cmVzIiwiYXNzZXRfaWQiLCJ0eXBlIiwicHJvZHVjdEZpdEFuY2hvcnMiLCJhbmNob3JfbmFtZSIsIngiLCJ5IiwieiIsInByaWNlSGlzdG9yeSIsInZhbGlkX2Zyb20iLCJ2YWxpZF90byIsInByb2R1Y3RzUmVsYXRpb25zIiwib25lIiwibWFueSIsImJyYW5kIiwiZmllbGRzIiwiY2F0ZWdvcnkiLCJ2YXJpYW50cyIsImltYWdlcyIsImFzc2V0czNkIiwicHJvZHVjdFZhcmlhbnRzUmVsYXRpb25zIiwicHJvZHVjdCIsInByb2R1Y3QzZEFzc2V0c1JlbGF0aW9ucyIsInRleHR1cmVzIiwiYW5jaG9ycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/catalog.schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/ecommerce.schema.ts":
/*!*******************************************!*\
  !*** ./src/db/schema/ecommerce.schema.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cartItems: () => (/* binding */ cartItems),\n/* harmony export */   carts: () => (/* binding */ carts),\n/* harmony export */   cartsRelations: () => (/* binding */ cartsRelations),\n/* harmony export */   orderItems: () => (/* binding */ orderItems),\n/* harmony export */   orders: () => (/* binding */ orders),\n/* harmony export */   ordersRelations: () => (/* binding */ ordersRelations),\n/* harmony export */   returns: () => (/* binding */ returns)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n/* harmony import */ var _users_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users.schema */ \"(rsc)/./src/db/schema/users.schema.ts\");\n/* harmony import */ var _catalog_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./catalog.schema */ \"(rsc)/./src/db/schema/catalog.schema.ts\");\n\n\n\n\n//  carts \nconst carts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('carts', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id'),\n    session_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('session_id'),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('status').notNull().default('active'),\n    currency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('currency').notNull().default('ARS'),\n    metadata: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.jsonb)('metadata'),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)('updated_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  cart_items \nconst cartItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('cart_items', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    cart_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('cart_id').notNull().references(()=>carts.id, {\n        onDelete: 'cascade'\n    }),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('variant_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productVariants.id),\n    quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)('quantity').notNull(),\n    unit_price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.numeric)('unit_price', {\n        precision: 12,\n        scale: 2\n    }).notNull(),\n    tried_on_3d: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)('tried_on_3d').notNull().default(false)\n});\n//  orders \nconst orders = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('orders', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('status').notNull().default('pending'),\n    total_amount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.numeric)('total_amount', {\n        precision: 12,\n        scale: 2\n    }).notNull(),\n    currency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('currency').notNull().default('ARS'),\n    shipping_address_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('shipping_address_id').notNull().references(()=>_users_schema__WEBPACK_IMPORTED_MODULE_0__.addresses.id),\n    medusa_order_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('medusa_order_id'),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  order_items \nconst orderItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('order_items', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    order_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('order_id').notNull().references(()=>orders.id, {\n        onDelete: 'cascade'\n    }),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('variant_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productVariants.id),\n    product_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('product_name').notNull(),\n    quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)('quantity').notNull(),\n    unit_price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.numeric)('unit_price', {\n        precision: 12,\n        scale: 2\n    }).notNull()\n});\n//  returns \nconst returns = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('returns', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    order_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('order_id').notNull().references(()=>orders.id),\n    reason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('reason'),\n    reason_category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('reason_category'),\n    tried_3d_before_purchase: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)('tried_3d_before_purchase').notNull().default(false),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('status').notNull().default('pending'),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  Relations \nconst cartsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(carts, ({ many })=>({\n        items: many(cartItems)\n    }));\nconst ordersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(orders, ({ many, one })=>({\n        items: many(orderItems),\n        returns: many(returns),\n        address: one(_users_schema__WEBPACK_IMPORTED_MODULE_0__.addresses, {\n            fields: [\n                orders.shipping_address_id\n            ],\n            references: [\n                _users_schema__WEBPACK_IMPORTED_MODULE_0__.addresses.id\n            ]\n        })\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGEtVmlydHVhbFxcQmFja1xcc3JjXFxkYlxcc2NoZW1hXFxlY29tbWVyY2Uuc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgcGdUYWJsZSwgdXVpZCwgdGV4dCwgbnVtZXJpYywgYm9vbGVhbiwgaW50ZWdlcixcclxuICB0aW1lc3RhbXAsIGpzb25iLFxyXG59IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xyXG5pbXBvcnQgeyByZWxhdGlvbnMgfSBmcm9tICdkcml6emxlLW9ybSc7XHJcbmltcG9ydCB7IGFkZHJlc3NlcyB9IGZyb20gJy4vdXNlcnMuc2NoZW1hJztcclxuaW1wb3J0IHsgcHJvZHVjdFZhcmlhbnRzIH0gZnJvbSAnLi9jYXRhbG9nLnNjaGVtYSc7XHJcblxyXG4vLyDilIDilIAgY2FydHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBjYXJ0cyA9IHBnVGFibGUoJ2NhcnRzJywge1xyXG4gIGlkOiAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICB1dWlkKCd1c2VyX2lkJyksXHJcbiAgc2Vzc2lvbl9pZDogdGV4dCgnc2Vzc2lvbl9pZCcpLFxyXG4gIHN0YXR1czogICAgIHRleHQoJ3N0YXR1cycpLm5vdE51bGwoKS5kZWZhdWx0KCdhY3RpdmUnKSxcclxuICBjdXJyZW5jeTogICB0ZXh0KCdjdXJyZW5jeScpLm5vdE51bGwoKS5kZWZhdWx0KCdBUlMnKSxcclxuICBtZXRhZGF0YTogICBqc29uYignbWV0YWRhdGEnKSxcclxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBjYXJ0X2l0ZW1zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgY2FydEl0ZW1zID0gcGdUYWJsZSgnY2FydF9pdGVtcycsIHtcclxuICBpZDogICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIGNhcnRfaWQ6ICAgICB1dWlkKCdjYXJ0X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2FydHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB2YXJpYW50X2lkOiAgdXVpZCgndmFyaWFudF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RWYXJpYW50cy5pZCksXHJcbiAgcXVhbnRpdHk6ICAgIGludGVnZXIoJ3F1YW50aXR5Jykubm90TnVsbCgpLFxyXG4gIHVuaXRfcHJpY2U6ICBudW1lcmljKCd1bml0X3ByaWNlJywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KS5ub3ROdWxsKCksXHJcbiAgdHJpZWRfb25fM2Q6IGJvb2xlYW4oJ3RyaWVkX29uXzNkJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBvcmRlcnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBvcmRlcnMgPSBwZ1RhYmxlKCdvcmRlcnMnLCB7XHJcbiAgaWQ6ICAgICAgICAgICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHVzZXJfaWQ6ICAgICAgICAgICAgIHV1aWQoJ3VzZXJfaWQnKS5ub3ROdWxsKCksXHJcbiAgc3RhdHVzOiAgICAgICAgICAgICAgdGV4dCgnc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ3BlbmRpbmcnKSxcclxuICB0b3RhbF9hbW91bnQ6ICAgICAgICBudW1lcmljKCd0b3RhbF9hbW91bnQnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLm5vdE51bGwoKSxcclxuICBjdXJyZW5jeTogICAgICAgICAgICB0ZXh0KCdjdXJyZW5jeScpLm5vdE51bGwoKS5kZWZhdWx0KCdBUlMnKSxcclxuICBzaGlwcGluZ19hZGRyZXNzX2lkOiB1dWlkKCdzaGlwcGluZ19hZGRyZXNzX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYWRkcmVzc2VzLmlkKSxcclxuICBtZWR1c2Ffb3JkZXJfaWQ6ICAgICB0ZXh0KCdtZWR1c2Ffb3JkZXJfaWQnKSxcclxuICBjcmVhdGVkX2F0OiAgICAgICAgICB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBvcmRlcl9pdGVtcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IG9yZGVySXRlbXMgPSBwZ1RhYmxlKCdvcmRlcl9pdGVtcycsIHtcclxuICBpZDogICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICBvcmRlcl9pZDogICAgIHV1aWQoJ29yZGVyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gb3JkZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgdmFyaWFudF9pZDogICB1dWlkKCd2YXJpYW50X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdFZhcmlhbnRzLmlkKSxcclxuICBwcm9kdWN0X25hbWU6IHRleHQoJ3Byb2R1Y3RfbmFtZScpLm5vdE51bGwoKSxcclxuICBxdWFudGl0eTogICAgIGludGVnZXIoJ3F1YW50aXR5Jykubm90TnVsbCgpLFxyXG4gIHVuaXRfcHJpY2U6ICAgbnVtZXJpYygndW5pdF9wcmljZScsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCByZXR1cm5zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgcmV0dXJucyA9IHBnVGFibGUoJ3JldHVybnMnLCB7XHJcbiAgaWQ6ICAgICAgICAgICAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgb3JkZXJfaWQ6ICAgICAgICAgICAgICAgICB1dWlkKCdvcmRlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IG9yZGVycy5pZCksXHJcbiAgcmVhc29uOiAgICAgICAgICAgICAgICAgICB0ZXh0KCdyZWFzb24nKSxcclxuICByZWFzb25fY2F0ZWdvcnk6ICAgICAgICAgIHRleHQoJ3JlYXNvbl9jYXRlZ29yeScpLFxyXG4gIHRyaWVkXzNkX2JlZm9yZV9wdXJjaGFzZTogYm9vbGVhbigndHJpZWRfM2RfYmVmb3JlX3B1cmNoYXNlJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxyXG4gIHN0YXR1czogICAgICAgICAgICAgICAgICAgdGV4dCgnc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ3BlbmRpbmcnKSxcclxuICBjcmVhdGVkX2F0OiAgICAgICAgICAgICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIFJlbGF0aW9ucyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IGNhcnRzUmVsYXRpb25zID0gcmVsYXRpb25zKGNhcnRzLCAoeyBtYW55IH0pID0+ICh7XHJcbiAgaXRlbXM6IG1hbnkoY2FydEl0ZW1zKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IG9yZGVyc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhvcmRlcnMsICh7IG1hbnksIG9uZSB9KSA9PiAoe1xyXG4gIGl0ZW1zOiAgIG1hbnkob3JkZXJJdGVtcyksXHJcbiAgcmV0dXJuczogbWFueShyZXR1cm5zKSxcclxuICBhZGRyZXNzOiBvbmUoYWRkcmVzc2VzLCB7IGZpZWxkczogW29yZGVycy5zaGlwcGluZ19hZGRyZXNzX2lkXSwgcmVmZXJlbmNlczogW2FkZHJlc3Nlcy5pZF0gfSksXHJcbn0pKTtcclxuIl0sIm5hbWVzIjpbInBnVGFibGUiLCJ1dWlkIiwidGV4dCIsIm51bWVyaWMiLCJib29sZWFuIiwiaW50ZWdlciIsInRpbWVzdGFtcCIsImpzb25iIiwicmVsYXRpb25zIiwiYWRkcmVzc2VzIiwicHJvZHVjdFZhcmlhbnRzIiwiY2FydHMiLCJpZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwidXNlcl9pZCIsInNlc3Npb25faWQiLCJzdGF0dXMiLCJub3ROdWxsIiwiZGVmYXVsdCIsImN1cnJlbmN5IiwibWV0YWRhdGEiLCJ1cGRhdGVkX2F0Iiwid2l0aFRpbWV6b25lIiwiZGVmYXVsdE5vdyIsImNhcnRJdGVtcyIsImNhcnRfaWQiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJ2YXJpYW50X2lkIiwicXVhbnRpdHkiLCJ1bml0X3ByaWNlIiwicHJlY2lzaW9uIiwic2NhbGUiLCJ0cmllZF9vbl8zZCIsIm9yZGVycyIsInRvdGFsX2Ftb3VudCIsInNoaXBwaW5nX2FkZHJlc3NfaWQiLCJtZWR1c2Ffb3JkZXJfaWQiLCJjcmVhdGVkX2F0Iiwib3JkZXJJdGVtcyIsIm9yZGVyX2lkIiwicHJvZHVjdF9uYW1lIiwicmV0dXJucyIsInJlYXNvbiIsInJlYXNvbl9jYXRlZ29yeSIsInRyaWVkXzNkX2JlZm9yZV9wdXJjaGFzZSIsImNhcnRzUmVsYXRpb25zIiwibWFueSIsIml0ZW1zIiwib3JkZXJzUmVsYXRpb25zIiwib25lIiwiYWRkcmVzcyIsImZpZWxkcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/ecommerce.schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/index.ts":
/*!********************************!*\
  !*** ./src/db/schema/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addresses: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.addresses),\n/* harmony export */   bodyProfiles: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.bodyProfiles),\n/* harmony export */   brands: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.brands),\n/* harmony export */   cartItems: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems),\n/* harmony export */   carts: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.carts),\n/* harmony export */   cartsRelations: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.cartsRelations),\n/* harmony export */   categories: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.categories),\n/* harmony export */   comments: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.comments),\n/* harmony export */   consents: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.consents),\n/* harmony export */   customUsers: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.customUsers),\n/* harmony export */   customUsersRelations: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.customUsersRelations),\n/* harmony export */   follows: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.follows),\n/* harmony export */   likes: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.likes),\n/* harmony export */   notifications: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.notifications),\n/* harmony export */   orderItems: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems),\n/* harmony export */   orders: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.orders),\n/* harmony export */   ordersRelations: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.ordersRelations),\n/* harmony export */   passwordResets: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.passwordResets),\n/* harmony export */   passwordResetsRelations: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.passwordResetsRelations),\n/* harmony export */   postImages: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.postImages),\n/* harmony export */   postProductTags: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.postProductTags),\n/* harmony export */   posts: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.posts),\n/* harmony export */   postsRelations: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.postsRelations),\n/* harmony export */   priceHistory: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.priceHistory),\n/* harmony export */   product3dAssets: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.product3dAssets),\n/* harmony export */   product3dAssetsRelations: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.product3dAssetsRelations),\n/* harmony export */   product3dTextures: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.product3dTextures),\n/* harmony export */   productFitAnchors: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productFitAnchors),\n/* harmony export */   productImages: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productImages),\n/* harmony export */   productVariants: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productVariants),\n/* harmony export */   productVariantsRelations: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productVariantsRelations),\n/* harmony export */   products: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.products),\n/* harmony export */   productsRelations: () => (/* reexport safe */ _catalog_schema__WEBPACK_IMPORTED_MODULE_1__.productsRelations),\n/* harmony export */   profiles: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.profiles),\n/* harmony export */   profilesRelations: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.profilesRelations),\n/* harmony export */   refreshTokens: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.refreshTokens),\n/* harmony export */   refreshTokensRelations: () => (/* reexport safe */ _users_schema__WEBPACK_IMPORTED_MODULE_0__.refreshTokensRelations),\n/* harmony export */   restockSubscriptions: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.restockSubscriptions),\n/* harmony export */   returns: () => (/* reexport safe */ _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__.returns),\n/* harmony export */   reviewImages: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.reviewImages),\n/* harmony export */   reviews: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.reviews),\n/* harmony export */   saves: () => (/* reexport safe */ _social_schema__WEBPACK_IMPORTED_MODULE_3__.saves),\n/* harmony export */   tryonSessions: () => (/* reexport safe */ _misc_schema__WEBPACK_IMPORTED_MODULE_4__.tryonSessions)\n/* harmony export */ });\n/* harmony import */ var _users_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users.schema */ \"(rsc)/./src/db/schema/users.schema.ts\");\n/* harmony import */ var _catalog_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./catalog.schema */ \"(rsc)/./src/db/schema/catalog.schema.ts\");\n/* harmony import */ var _ecommerce_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecommerce.schema */ \"(rsc)/./src/db/schema/ecommerce.schema.ts\");\n/* harmony import */ var _social_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./social.schema */ \"(rsc)/./src/db/schema/social.schema.ts\");\n/* harmony import */ var _misc_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./misc.schema */ \"(rsc)/./src/db/schema/misc.schema.ts\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvc2NoZW1hL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNFO0FBQ0U7QUFDSDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHBjXFxPbmVEcml2ZVxcRG9jdW1lbnRvc1xcR2l0SHViXFxUaWVuZGEtUm9wYS1WaXJ0dWFsXFxCYWNrXFxzcmNcXGRiXFxzY2hlbWFcXGluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vdXNlcnMuc2NoZW1hJztcclxuZXhwb3J0ICogZnJvbSAnLi9jYXRhbG9nLnNjaGVtYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZWNvbW1lcmNlLnNjaGVtYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc29jaWFsLnNjaGVtYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbWlzYy5zY2hlbWEnO1xyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/misc.schema.ts":
/*!**************************************!*\
  !*** ./src/db/schema/misc.schema.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consents: () => (/* binding */ consents),\n/* harmony export */   notifications: () => (/* binding */ notifications),\n/* harmony export */   restockSubscriptions: () => (/* binding */ restockSubscriptions),\n/* harmony export */   reviewImages: () => (/* binding */ reviewImages),\n/* harmony export */   reviews: () => (/* binding */ reviews),\n/* harmony export */   tryonSessions: () => (/* binding */ tryonSessions)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var _catalog_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./catalog.schema */ \"(rsc)/./src/db/schema/catalog.schema.ts\");\n/* harmony import */ var _ecommerce_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecommerce.schema */ \"(rsc)/./src/db/schema/ecommerce.schema.ts\");\n\n\n\n//  reviews \nconst reviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('reviews', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('product_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.products.id, {\n        onDelete: 'cascade'\n    }),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').notNull(),\n    order_item_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('order_item_id').notNull().references(()=>_ecommerce_schema__WEBPACK_IMPORTED_MODULE_1__.orderItems.id).unique(),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('rating').notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('title'),\n    body: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('body'),\n    fit_rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('fit_rating'),\n    used_3d_tryon: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.boolean)('used_3d_tryon').notNull().default(false),\n    helpful_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('helpful_count').notNull().default(0),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  review_images \nconst reviewImages = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('review_images', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    review_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('review_id').notNull().references(()=>reviews.id, {\n        onDelete: 'cascade'\n    }),\n    url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('url').notNull()\n});\n//  tryon_sessions \nconst tryonSessions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('tryon_sessions', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id'),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('product_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.products.id, {\n        onDelete: 'cascade'\n    }),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('variant_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.productVariants.id, {\n        onDelete: 'cascade'\n    }),\n    body_profile_snapshot: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)('body_profile_snapshot'),\n    duration_seconds: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)('duration_seconds'),\n    converted_to_cart: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.boolean)('converted_to_cart').notNull().default(false),\n    converted_to_purchase: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.boolean)('converted_to_purchase').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  notifications \nconst notifications = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('notifications', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('type').notNull(),\n    actor_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('actor_id'),\n    reference_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('reference_id'),\n    reference_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('reference_type'),\n    is_read: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.boolean)('is_read').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  restock_subscriptions \nconst restockSubscriptions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('restock_subscriptions', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').notNull(),\n    variant_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('variant_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.productVariants.id, {\n        onDelete: 'cascade'\n    }),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  consents (Privacy / GDPR) \nconst consents = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('consents', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').notNull(),\n    consent_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('consent_type').notNull(),\n    version: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('version').notNull(),\n    accepted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.boolean)('accepted').notNull(),\n    accepted_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)('accepted_at', {\n        withTimezone: true\n    }).notNull().defaultNow(),\n    ip_address: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('ip_address'),\n    user_agent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('user_agent')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxkYlxcc2NoZW1hXFxtaXNjLnNjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCB1dWlkLCB0ZXh0LCBib29sZWFuLCBpbnRlZ2VyLCB0aW1lc3RhbXAsIGpzb25iIH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XHJcbmltcG9ydCB7IHByb2R1Y3RzLCBwcm9kdWN0VmFyaWFudHMgfSBmcm9tICcuL2NhdGFsb2cuc2NoZW1hJztcclxuaW1wb3J0IHsgb3JkZXJJdGVtcyB9IGZyb20gJy4vZWNvbW1lcmNlLnNjaGVtYSc7XHJcblxyXG4vLyDilIDilIAgcmV2aWV3cyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHJldmlld3MgPSBwZ1RhYmxlKCdyZXZpZXdzJywge1xyXG4gIGlkOiAgICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICBwcm9kdWN0X2lkOiAgICB1dWlkKCdwcm9kdWN0X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB1c2VyX2lkOiAgICAgICB1dWlkKCd1c2VyX2lkJykubm90TnVsbCgpLFxyXG4gIG9yZGVyX2l0ZW1faWQ6IHV1aWQoJ29yZGVyX2l0ZW1faWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBvcmRlckl0ZW1zLmlkKS51bmlxdWUoKSxcclxuICByYXRpbmc6ICAgICAgICBpbnRlZ2VyKCdyYXRpbmcnKS5ub3ROdWxsKCksXHJcbiAgdGl0bGU6ICAgICAgICAgdGV4dCgndGl0bGUnKSxcclxuICBib2R5OiAgICAgICAgICB0ZXh0KCdib2R5JyksXHJcbiAgZml0X3JhdGluZzogICAgdGV4dCgnZml0X3JhdGluZycpLFxyXG4gIHVzZWRfM2RfdHJ5b246IGJvb2xlYW4oJ3VzZWRfM2RfdHJ5b24nKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgaGVscGZ1bF9jb3VudDogaW50ZWdlcignaGVscGZ1bF9jb3VudCcpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxyXG4gIGNyZWF0ZWRfYXQ6ICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIHJldmlld19pbWFnZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCByZXZpZXdJbWFnZXMgPSBwZ1RhYmxlKCdyZXZpZXdfaW1hZ2VzJywge1xyXG4gIGlkOiAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHJldmlld19pZDogdXVpZCgncmV2aWV3X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcmV2aWV3cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVybDogICAgICAgdGV4dCgndXJsJykubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCB0cnlvbl9zZXNzaW9ucyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHRyeW9uU2Vzc2lvbnMgPSBwZ1RhYmxlKCd0cnlvbl9zZXNzaW9ucycsIHtcclxuICBpZDogICAgICAgICAgICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICAgICAgICAgICAgIHV1aWQoJ3VzZXJfaWQnKSxcclxuICBwcm9kdWN0X2lkOiAgICAgICAgICAgIHV1aWQoJ3Byb2R1Y3RfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHZhcmlhbnRfaWQ6ICAgICAgICAgICAgdXVpZCgndmFyaWFudF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RWYXJpYW50cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGJvZHlfcHJvZmlsZV9zbmFwc2hvdDoganNvbmIoJ2JvZHlfcHJvZmlsZV9zbmFwc2hvdCcpLFxyXG4gIGR1cmF0aW9uX3NlY29uZHM6ICAgICAgaW50ZWdlcignZHVyYXRpb25fc2Vjb25kcycpLFxyXG4gIGNvbnZlcnRlZF90b19jYXJ0OiAgICAgYm9vbGVhbignY29udmVydGVkX3RvX2NhcnQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgY29udmVydGVkX3RvX3B1cmNoYXNlOiBib29sZWFuKCdjb252ZXJ0ZWRfdG9fcHVyY2hhc2UnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgY3JlYXRlZF9hdDogICAgICAgICAgICB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBub3RpZmljYXRpb25zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3Qgbm90aWZpY2F0aW9ucyA9IHBnVGFibGUoJ25vdGlmaWNhdGlvbnMnLCB7XHJcbiAgaWQ6ICAgICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICAgICAgdXVpZCgndXNlcl9pZCcpLm5vdE51bGwoKSxcclxuICB0eXBlOiAgICAgICAgICAgdGV4dCgndHlwZScpLm5vdE51bGwoKSxcclxuICBhY3Rvcl9pZDogICAgICAgdXVpZCgnYWN0b3JfaWQnKSxcclxuICByZWZlcmVuY2VfaWQ6ICAgdXVpZCgncmVmZXJlbmNlX2lkJyksXHJcbiAgcmVmZXJlbmNlX3R5cGU6IHRleHQoJ3JlZmVyZW5jZV90eXBlJyksXHJcbiAgaXNfcmVhZDogICAgICAgIGJvb2xlYW4oJ2lzX3JlYWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgY3JlYXRlZF9hdDogICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIHJlc3RvY2tfc3Vic2NyaXB0aW9ucyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHJlc3RvY2tTdWJzY3JpcHRpb25zID0gcGdUYWJsZSgncmVzdG9ja19zdWJzY3JpcHRpb25zJywge1xyXG4gIGlkOiAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICB1dWlkKCd1c2VyX2lkJykubm90TnVsbCgpLFxyXG4gIHZhcmlhbnRfaWQ6IHV1aWQoJ3ZhcmlhbnRfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0VmFyaWFudHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBjb25zZW50cyAoUHJpdmFjeSAvIEdEUFIpIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgY29uc2VudHMgPSBwZ1RhYmxlKCdjb25zZW50cycsIHtcclxuICBpZDogICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgdXNlcl9pZDogICAgICAgdXVpZCgndXNlcl9pZCcpLm5vdE51bGwoKSxcclxuICBjb25zZW50X3R5cGU6ICB0ZXh0KCdjb25zZW50X3R5cGUnKS5ub3ROdWxsKCksIC8vICdtYXJrZXRpbmcnLCAnYW5hbHl0aWNzJywgJ2Jpb21ldHJpYycsICd0ZXJtcydcclxuICB2ZXJzaW9uOiAgICAgICB0ZXh0KCd2ZXJzaW9uJykubm90TnVsbCgpLCAgICAgICAvLyB2ZXJzacOzbiBkZWwgZG9jdW1lbnRvIGFjZXB0YWRvXHJcbiAgYWNjZXB0ZWQ6ICAgICAgYm9vbGVhbignYWNjZXB0ZWQnKS5ub3ROdWxsKCksXHJcbiAgYWNjZXB0ZWRfYXQ6ICAgdGltZXN0YW1wKCdhY2NlcHRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgaXBfYWRkcmVzczogICAgdGV4dCgnaXBfYWRkcmVzcycpLFxyXG4gIHVzZXJfYWdlbnQ6ICAgIHRleHQoJ3VzZXJfYWdlbnQnKSxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidXVpZCIsInRleHQiLCJib29sZWFuIiwiaW50ZWdlciIsInRpbWVzdGFtcCIsImpzb25iIiwicHJvZHVjdHMiLCJwcm9kdWN0VmFyaWFudHMiLCJvcmRlckl0ZW1zIiwicmV2aWV3cyIsImlkIiwicHJpbWFyeUtleSIsImRlZmF1bHRSYW5kb20iLCJwcm9kdWN0X2lkIiwibm90TnVsbCIsInJlZmVyZW5jZXMiLCJvbkRlbGV0ZSIsInVzZXJfaWQiLCJvcmRlcl9pdGVtX2lkIiwidW5pcXVlIiwicmF0aW5nIiwidGl0bGUiLCJib2R5IiwiZml0X3JhdGluZyIsInVzZWRfM2RfdHJ5b24iLCJkZWZhdWx0IiwiaGVscGZ1bF9jb3VudCIsImNyZWF0ZWRfYXQiLCJ3aXRoVGltZXpvbmUiLCJkZWZhdWx0Tm93IiwicmV2aWV3SW1hZ2VzIiwicmV2aWV3X2lkIiwidXJsIiwidHJ5b25TZXNzaW9ucyIsInZhcmlhbnRfaWQiLCJib2R5X3Byb2ZpbGVfc25hcHNob3QiLCJkdXJhdGlvbl9zZWNvbmRzIiwiY29udmVydGVkX3RvX2NhcnQiLCJjb252ZXJ0ZWRfdG9fcHVyY2hhc2UiLCJub3RpZmljYXRpb25zIiwidHlwZSIsImFjdG9yX2lkIiwicmVmZXJlbmNlX2lkIiwicmVmZXJlbmNlX3R5cGUiLCJpc19yZWFkIiwicmVzdG9ja1N1YnNjcmlwdGlvbnMiLCJjb25zZW50cyIsImNvbnNlbnRfdHlwZSIsInZlcnNpb24iLCJhY2NlcHRlZCIsImFjY2VwdGVkX2F0IiwiaXBfYWRkcmVzcyIsInVzZXJfYWdlbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/misc.schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/social.schema.ts":
/*!****************************************!*\
  !*** ./src/db/schema/social.schema.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comments: () => (/* binding */ comments),\n/* harmony export */   follows: () => (/* binding */ follows),\n/* harmony export */   likes: () => (/* binding */ likes),\n/* harmony export */   postImages: () => (/* binding */ postImages),\n/* harmony export */   postProductTags: () => (/* binding */ postProductTags),\n/* harmony export */   posts: () => (/* binding */ posts),\n/* harmony export */   postsRelations: () => (/* binding */ postsRelations),\n/* harmony export */   saves: () => (/* binding */ saves)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/primary-keys.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n/* harmony import */ var _catalog_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./catalog.schema */ \"(rsc)/./src/db/schema/catalog.schema.ts\");\n\n\n\n//  follows \nconst follows = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('follows', {\n    follower_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('follower_id').notNull(),\n    following_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('following_id').notNull(),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n}, (t)=>({\n        pk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n            columns: [\n                t.follower_id,\n                t.following_id\n            ]\n        })\n    }));\n//  posts \nconst posts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('posts', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').notNull(),\n    caption: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('caption'),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('type').notNull(),\n    visibility: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('visibility').notNull().default('public'),\n    like_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)('like_count').notNull().default(0),\n    comment_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)('comment_count').notNull().default(0),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  post_images \nconst postImages = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('post_images', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('id').primaryKey().defaultRandom(),\n    post_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('post_id').notNull().references(()=>posts.id, {\n        onDelete: 'cascade'\n    }),\n    url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('url').notNull(),\n    sort_order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)('sort_order').notNull().default(0)\n});\n//  post_product_tags \nconst postProductTags = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('post_product_tags', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('id').primaryKey().defaultRandom(),\n    post_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('post_id').notNull().references(()=>posts.id, {\n        onDelete: 'cascade'\n    }),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('product_id').notNull().references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.products.id, {\n        onDelete: 'cascade'\n    }),\n    x_position: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.numeric)('x_position').notNull(),\n    y_position: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.numeric)('y_position').notNull()\n});\n//  likes \nconst likes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('likes', {\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').notNull(),\n    post_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('post_id').notNull().references(()=>posts.id, {\n        onDelete: 'cascade'\n    }),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n}, (t)=>({\n        pk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n            columns: [\n                t.user_id,\n                t.post_id\n            ]\n        })\n    }));\n//  comments \nconst comments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('comments', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('id').primaryKey().defaultRandom(),\n    post_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('post_id').notNull().references(()=>posts.id, {\n        onDelete: 'cascade'\n    }),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').notNull(),\n    parent_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('parent_id'),\n    body: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('body').notNull(),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  saves \nconst saves = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('saves', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').notNull(),\n    product_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('product_id').references(()=>_catalog_schema__WEBPACK_IMPORTED_MODULE_0__.products.id, {\n        onDelete: 'cascade'\n    }),\n    post_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('post_id').references(()=>posts.id, {\n        onDelete: 'cascade'\n    }),\n    collection_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('collection_name').notNull().default('Guardados'),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  Relations \nconst postsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(posts, ({ many })=>({\n        images: many(postImages),\n        productTags: many(postProductTags),\n        likes: many(likes),\n        comments: many(comments)\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvc2NoZW1hL3NvY2lhbC5zY2hlbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHNkI7QUFDVztBQUNJO0FBRTVDLGlGQUFpRjtBQUMxRSxNQUFNUyxVQUFVVCw0REFBT0EsQ0FBQyxXQUFXO0lBQ3hDVSxhQUFjVCx5REFBSUEsQ0FBQyxlQUFlVSxPQUFPO0lBQ3pDQyxjQUFjWCx5REFBSUEsQ0FBQyxnQkFBZ0JVLE9BQU87SUFDMUNFLFlBQWNSLDhEQUFTQSxDQUFDLGNBQWM7UUFBRVMsY0FBYztJQUFLLEdBQUdILE9BQU8sR0FBR0ksVUFBVTtBQUNwRixHQUFHLENBQUNDLElBQU87UUFDVEMsSUFBSVgsK0RBQVVBLENBQUM7WUFBRVksU0FBUztnQkFBQ0YsRUFBRU4sV0FBVztnQkFBRU0sRUFBRUosWUFBWTthQUFDO1FBQUM7SUFDNUQsSUFBSTtBQUVKLGlGQUFpRjtBQUMxRSxNQUFNTyxRQUFRbkIsNERBQU9BLENBQUMsU0FBUztJQUNwQ29CLElBQWVuQix5REFBSUEsQ0FBQyxNQUFNSyxVQUFVLEdBQUdlLGFBQWE7SUFDcERDLFNBQWVyQix5REFBSUEsQ0FBQyxXQUFXVSxPQUFPO0lBQ3RDWSxTQUFlckIseURBQUlBLENBQUM7SUFDcEJzQixNQUFldEIseURBQUlBLENBQUMsUUFBUVMsT0FBTztJQUNuQ2MsWUFBZXZCLHlEQUFJQSxDQUFDLGNBQWNTLE9BQU8sR0FBR2UsT0FBTyxDQUFDO0lBQ3BEQyxZQUFldkIsNERBQU9BLENBQUMsY0FBY08sT0FBTyxHQUFHZSxPQUFPLENBQUM7SUFDdkRFLGVBQWV4Qiw0REFBT0EsQ0FBQyxpQkFBaUJPLE9BQU8sR0FBR2UsT0FBTyxDQUFDO0lBQzFEYixZQUFlUiw4REFBU0EsQ0FBQyxjQUFjO1FBQUVTLGNBQWM7SUFBSyxHQUFHSCxPQUFPLEdBQUdJLFVBQVU7QUFDckYsR0FBRztBQUVILGlGQUFpRjtBQUMxRSxNQUFNYyxhQUFhN0IsNERBQU9BLENBQUMsZUFBZTtJQUMvQ29CLElBQVluQix5REFBSUEsQ0FBQyxNQUFNSyxVQUFVLEdBQUdlLGFBQWE7SUFDakRTLFNBQVk3Qix5REFBSUEsQ0FBQyxXQUFXVSxPQUFPLEdBQUdvQixVQUFVLENBQUMsSUFBTVosTUFBTUMsRUFBRSxFQUFFO1FBQUVZLFVBQVU7SUFBVTtJQUN2RkMsS0FBWS9CLHlEQUFJQSxDQUFDLE9BQU9TLE9BQU87SUFDL0J1QixZQUFZOUIsNERBQU9BLENBQUMsY0FBY08sT0FBTyxHQUFHZSxPQUFPLENBQUM7QUFDdEQsR0FBRztBQUVILGlGQUFpRjtBQUMxRSxNQUFNUyxrQkFBa0JuQyw0REFBT0EsQ0FBQyxxQkFBcUI7SUFDMURvQixJQUFZbkIseURBQUlBLENBQUMsTUFBTUssVUFBVSxHQUFHZSxhQUFhO0lBQ2pEUyxTQUFZN0IseURBQUlBLENBQUMsV0FBV1UsT0FBTyxHQUFHb0IsVUFBVSxDQUFDLElBQU1aLE1BQU1DLEVBQUUsRUFBRTtRQUFFWSxVQUFVO0lBQVU7SUFDdkZJLFlBQVluQyx5REFBSUEsQ0FBQyxjQUFjVSxPQUFPLEdBQUdvQixVQUFVLENBQUMsSUFBTXZCLHFEQUFRQSxDQUFDWSxFQUFFLEVBQUU7UUFBRVksVUFBVTtJQUFVO0lBQzdGSyxZQUFZbEMsNERBQU9BLENBQUMsY0FBY1EsT0FBTztJQUN6QzJCLFlBQVluQyw0REFBT0EsQ0FBQyxjQUFjUSxPQUFPO0FBQzNDLEdBQUc7QUFFSCxpRkFBaUY7QUFDMUUsTUFBTTRCLFFBQVF2Qyw0REFBT0EsQ0FBQyxTQUFTO0lBQ3BDc0IsU0FBWXJCLHlEQUFJQSxDQUFDLFdBQVdVLE9BQU87SUFDbkNtQixTQUFZN0IseURBQUlBLENBQUMsV0FBV1UsT0FBTyxHQUFHb0IsVUFBVSxDQUFDLElBQU1aLE1BQU1DLEVBQUUsRUFBRTtRQUFFWSxVQUFVO0lBQVU7SUFDdkZuQixZQUFZUiw4REFBU0EsQ0FBQyxjQUFjO1FBQUVTLGNBQWM7SUFBSyxHQUFHSCxPQUFPLEdBQUdJLFVBQVU7QUFDbEYsR0FBRyxDQUFDQyxJQUFPO1FBQ1RDLElBQUlYLCtEQUFVQSxDQUFDO1lBQUVZLFNBQVM7Z0JBQUNGLEVBQUVNLE9BQU87Z0JBQUVOLEVBQUVjLE9BQU87YUFBQztRQUFDO0lBQ25ELElBQUk7QUFFSixpRkFBaUY7QUFDMUUsTUFBTVUsV0FBV3hDLDREQUFPQSxDQUFDLFlBQVk7SUFDMUNvQixJQUFZbkIseURBQUlBLENBQUMsTUFBTUssVUFBVSxHQUFHZSxhQUFhO0lBQ2pEUyxTQUFZN0IseURBQUlBLENBQUMsV0FBV1UsT0FBTyxHQUFHb0IsVUFBVSxDQUFDLElBQU1aLE1BQU1DLEVBQUUsRUFBRTtRQUFFWSxVQUFVO0lBQVU7SUFDdkZWLFNBQVlyQix5REFBSUEsQ0FBQyxXQUFXVSxPQUFPO0lBQ25DOEIsV0FBWXhDLHlEQUFJQSxDQUFDO0lBQ2pCeUMsTUFBWXhDLHlEQUFJQSxDQUFDLFFBQVFTLE9BQU87SUFDaENFLFlBQVlSLDhEQUFTQSxDQUFDLGNBQWM7UUFBRVMsY0FBYztJQUFLLEdBQUdILE9BQU8sR0FBR0ksVUFBVTtBQUNsRixHQUFHO0FBRUgsaUZBQWlGO0FBQzFFLE1BQU00QixRQUFRM0MsNERBQU9BLENBQUMsU0FBUztJQUNwQ29CLElBQWlCbkIseURBQUlBLENBQUMsTUFBTUssVUFBVSxHQUFHZSxhQUFhO0lBQ3REQyxTQUFpQnJCLHlEQUFJQSxDQUFDLFdBQVdVLE9BQU87SUFDeEN5QixZQUFpQm5DLHlEQUFJQSxDQUFDLGNBQWM4QixVQUFVLENBQUMsSUFBTXZCLHFEQUFRQSxDQUFDWSxFQUFFLEVBQUU7UUFBRVksVUFBVTtJQUFVO0lBQ3hGRixTQUFpQjdCLHlEQUFJQSxDQUFDLFdBQVc4QixVQUFVLENBQUMsSUFBTVosTUFBTUMsRUFBRSxFQUFFO1FBQUVZLFVBQVU7SUFBVTtJQUNsRlksaUJBQWlCMUMseURBQUlBLENBQUMsbUJBQW1CUyxPQUFPLEdBQUdlLE9BQU8sQ0FBQztJQUMzRGIsWUFBaUJSLDhEQUFTQSxDQUFDLGNBQWM7UUFBRVMsY0FBYztJQUFLLEdBQUdILE9BQU8sR0FBR0ksVUFBVTtBQUN2RixHQUFHO0FBRUgsZ0ZBQWdGO0FBQ3pFLE1BQU04QixpQkFBaUJ0QyxzREFBU0EsQ0FBQ1ksT0FBTyxDQUFDLEVBQUUyQixJQUFJLEVBQUUsR0FBTTtRQUM1REMsUUFBYUQsS0FBS2pCO1FBQ2xCbUIsYUFBYUYsS0FBS1g7UUFDbEJJLE9BQWFPLEtBQUtQO1FBQ2xCQyxVQUFhTSxLQUFLTjtJQUNwQixJQUFJIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHBjXFxPbmVEcml2ZVxcRG9jdW1lbnRvc1xcR2l0SHViXFxUaWVuZGEtUm9wYS1WaXJ0dWFsXFxCYWNrXFxzcmNcXGRiXFxzY2hlbWFcXHNvY2lhbC5zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBwZ1RhYmxlLCB1dWlkLCB0ZXh0LCBudW1lcmljLCBpbnRlZ2VyLFxyXG4gIHRpbWVzdGFtcCwgcHJpbWFyeUtleSxcclxufSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcclxuaW1wb3J0IHsgcmVsYXRpb25zIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xyXG5pbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gJy4vY2F0YWxvZy5zY2hlbWEnO1xyXG5cclxuLy8g4pSA4pSAIGZvbGxvd3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBmb2xsb3dzID0gcGdUYWJsZSgnZm9sbG93cycsIHtcclxuICBmb2xsb3dlcl9pZDogIHV1aWQoJ2ZvbGxvd2VyX2lkJykubm90TnVsbCgpLFxyXG4gIGZvbGxvd2luZ19pZDogdXVpZCgnZm9sbG93aW5nX2lkJykubm90TnVsbCgpLFxyXG4gIGNyZWF0ZWRfYXQ6ICAgdGltZXN0YW1wKCdjcmVhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSwgKHQpID0+ICh7XHJcbiAgcGs6IHByaW1hcnlLZXkoeyBjb2x1bW5zOiBbdC5mb2xsb3dlcl9pZCwgdC5mb2xsb3dpbmdfaWRdIH0pLFxyXG59KSk7XHJcblxyXG4vLyDilIDilIAgcG9zdHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwb3N0cyA9IHBnVGFibGUoJ3Bvc3RzJywge1xyXG4gIGlkOiAgICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICAgICB1dWlkKCd1c2VyX2lkJykubm90TnVsbCgpLFxyXG4gIGNhcHRpb246ICAgICAgIHRleHQoJ2NhcHRpb24nKSxcclxuICB0eXBlOiAgICAgICAgICB0ZXh0KCd0eXBlJykubm90TnVsbCgpLFxyXG4gIHZpc2liaWxpdHk6ICAgIHRleHQoJ3Zpc2liaWxpdHknKS5ub3ROdWxsKCkuZGVmYXVsdCgncHVibGljJyksXHJcbiAgbGlrZV9jb3VudDogICAgaW50ZWdlcignbGlrZV9jb3VudCcpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxyXG4gIGNvbW1lbnRfY291bnQ6IGludGVnZXIoJ2NvbW1lbnRfY291bnQnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICBjcmVhdGVkX2F0OiAgICB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBwb3N0X2ltYWdlcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHBvc3RJbWFnZXMgPSBwZ1RhYmxlKCdwb3N0X2ltYWdlcycsIHtcclxuICBpZDogICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgcG9zdF9pZDogICAgdXVpZCgncG9zdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHBvc3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgdXJsOiAgICAgICAgdGV4dCgndXJsJykubm90TnVsbCgpLFxyXG4gIHNvcnRfb3JkZXI6IGludGVnZXIoJ3NvcnRfb3JkZXInKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcG9zdF9wcm9kdWN0X3RhZ3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwb3N0UHJvZHVjdFRhZ3MgPSBwZ1RhYmxlKCdwb3N0X3Byb2R1Y3RfdGFncycsIHtcclxuICBpZDogICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgcG9zdF9pZDogICAgdXVpZCgncG9zdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHBvc3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcHJvZHVjdF9pZDogdXVpZCgncHJvZHVjdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHByb2R1Y3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgeF9wb3NpdGlvbjogbnVtZXJpYygneF9wb3NpdGlvbicpLm5vdE51bGwoKSxcclxuICB5X3Bvc2l0aW9uOiBudW1lcmljKCd5X3Bvc2l0aW9uJykubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBsaWtlcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IGxpa2VzID0gcGdUYWJsZSgnbGlrZXMnLCB7XHJcbiAgdXNlcl9pZDogICAgdXVpZCgndXNlcl9pZCcpLm5vdE51bGwoKSxcclxuICBwb3N0X2lkOiAgICB1dWlkKCdwb3N0X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcG9zdHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59LCAodCkgPT4gKHtcclxuICBwazogcHJpbWFyeUtleSh7IGNvbHVtbnM6IFt0LnVzZXJfaWQsIHQucG9zdF9pZF0gfSksXHJcbn0pKTtcclxuXHJcbi8vIOKUgOKUgCBjb21tZW50cyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IGNvbW1lbnRzID0gcGdUYWJsZSgnY29tbWVudHMnLCB7XHJcbiAgaWQ6ICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHBvc3RfaWQ6ICAgIHV1aWQoJ3Bvc3RfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBwb3N0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJfaWQ6ICAgIHV1aWQoJ3VzZXJfaWQnKS5ub3ROdWxsKCksXHJcbiAgcGFyZW50X2lkOiAgdXVpZCgncGFyZW50X2lkJyksXHJcbiAgYm9keTogICAgICAgdGV4dCgnYm9keScpLm5vdE51bGwoKSxcclxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBzYXZlcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IHNhdmVzID0gcGdUYWJsZSgnc2F2ZXMnLCB7XHJcbiAgaWQ6ICAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgdXNlcl9pZDogICAgICAgICB1dWlkKCd1c2VyX2lkJykubm90TnVsbCgpLFxyXG4gIHByb2R1Y3RfaWQ6ICAgICAgdXVpZCgncHJvZHVjdF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBwb3N0X2lkOiAgICAgICAgIHV1aWQoJ3Bvc3RfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHBvc3RzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY29sbGVjdGlvbl9uYW1lOiB0ZXh0KCdjb2xsZWN0aW9uX25hbWUnKS5ub3ROdWxsKCkuZGVmYXVsdCgnR3VhcmRhZG9zJyksXHJcbiAgY3JlYXRlZF9hdDogICAgICB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIOKUgOKUgCBSZWxhdGlvbnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwb3N0c1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhwb3N0cywgKHsgbWFueSB9KSA9PiAoe1xyXG4gIGltYWdlczogICAgICBtYW55KHBvc3RJbWFnZXMpLFxyXG4gIHByb2R1Y3RUYWdzOiBtYW55KHBvc3RQcm9kdWN0VGFncyksXHJcbiAgbGlrZXM6ICAgICAgIG1hbnkobGlrZXMpLFxyXG4gIGNvbW1lbnRzOiAgICBtYW55KGNvbW1lbnRzKSxcclxufSkpO1xyXG4iXSwibmFtZXMiOlsicGdUYWJsZSIsInV1aWQiLCJ0ZXh0IiwibnVtZXJpYyIsImludGVnZXIiLCJ0aW1lc3RhbXAiLCJwcmltYXJ5S2V5IiwicmVsYXRpb25zIiwicHJvZHVjdHMiLCJmb2xsb3dzIiwiZm9sbG93ZXJfaWQiLCJub3ROdWxsIiwiZm9sbG93aW5nX2lkIiwiY3JlYXRlZF9hdCIsIndpdGhUaW1lem9uZSIsImRlZmF1bHROb3ciLCJ0IiwicGsiLCJjb2x1bW5zIiwicG9zdHMiLCJpZCIsImRlZmF1bHRSYW5kb20iLCJ1c2VyX2lkIiwiY2FwdGlvbiIsInR5cGUiLCJ2aXNpYmlsaXR5IiwiZGVmYXVsdCIsImxpa2VfY291bnQiLCJjb21tZW50X2NvdW50IiwicG9zdEltYWdlcyIsInBvc3RfaWQiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJ1cmwiLCJzb3J0X29yZGVyIiwicG9zdFByb2R1Y3RUYWdzIiwicHJvZHVjdF9pZCIsInhfcG9zaXRpb24iLCJ5X3Bvc2l0aW9uIiwibGlrZXMiLCJjb21tZW50cyIsInBhcmVudF9pZCIsImJvZHkiLCJzYXZlcyIsImNvbGxlY3Rpb25fbmFtZSIsInBvc3RzUmVsYXRpb25zIiwibWFueSIsImltYWdlcyIsInByb2R1Y3RUYWdzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/social.schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/schema/users.schema.ts":
/*!***************************************!*\
  !*** ./src/db/schema/users.schema.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addresses: () => (/* binding */ addresses),\n/* harmony export */   bodyProfiles: () => (/* binding */ bodyProfiles),\n/* harmony export */   customUsers: () => (/* binding */ customUsers),\n/* harmony export */   customUsersRelations: () => (/* binding */ customUsersRelations),\n/* harmony export */   passwordResets: () => (/* binding */ passwordResets),\n/* harmony export */   passwordResetsRelations: () => (/* binding */ passwordResetsRelations),\n/* harmony export */   profiles: () => (/* binding */ profiles),\n/* harmony export */   profilesRelations: () => (/* binding */ profilesRelations),\n/* harmony export */   refreshTokens: () => (/* binding */ refreshTokens),\n/* harmony export */   refreshTokensRelations: () => (/* binding */ refreshTokensRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n\n\n//  custom_users \nconst customUsers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('custom_users', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('email').unique().notNull(),\n    password_hash: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('password_hash').notNull(),\n    email_verified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('email_verified').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('updated_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  refresh_tokens \nconst refreshTokens = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('refresh_tokens', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('user_id').notNull().references(()=>customUsers.id, {\n        onDelete: 'cascade'\n    }),\n    token_hash: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('token_hash').unique().notNull(),\n    expires_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('expires_at', {\n        withTimezone: true\n    }).notNull(),\n    revoked: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('revoked').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  password_resets \nconst passwordResets = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('password_resets', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('user_id').notNull().references(()=>customUsers.id, {\n        onDelete: 'cascade'\n    }),\n    token_hash: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('token_hash').unique().notNull(),\n    expires_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('expires_at', {\n        withTimezone: true\n    }).notNull(),\n    used: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('used').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  profiles \nconst profiles = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('profiles', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey(),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('username').unique().notNull(),\n    display_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('display_name'),\n    bio: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('bio'),\n    avatar_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('avatar_url'),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('location'),\n    is_verified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('is_verified').notNull().default(false),\n    follower_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('follower_count').notNull().default(0),\n    following_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('following_count').notNull().default(0),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  addresses \nconst addresses = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('addresses', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('user_id').notNull(),\n    full_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('full_name').notNull(),\n    phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('phone'),\n    street_line1: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('street_line1').notNull(),\n    street_line2: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('street_line2'),\n    city: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('city').notNull(),\n    state: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('state'),\n    postal_code: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('postal_code'),\n    country: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('country').notNull(),\n    is_default: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)('is_default').notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  body_profiles \nconst bodyProfiles = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('body_profiles', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('user_id').notNull().unique(),\n    height_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('height_cm'),\n    weight_kg: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('weight_kg'),\n    chest_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('chest_cm'),\n    waist_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('waist_cm'),\n    hips_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('hips_cm'),\n    shoulder_width_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('shoulder_width_cm'),\n    inseam_cm: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)('inseam_cm'),\n    skin_tone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('skin_tone'),\n    avatar_model_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('avatar_model_url'),\n    muscle_mass_level: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('muscle_mass_level'),\n    age_appearance: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('age_appearance'),\n    gender_expression: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('gender_expression'),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('updated_at', {\n        withTimezone: true\n    }).notNull().defaultNow()\n});\n//  Relations \nconst customUsersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.relations)(customUsers, ({ many, one })=>({\n        tokens: many(refreshTokens),\n        passwordResets: many(passwordResets),\n        profile: one(profiles, {\n            fields: [\n                customUsers.id\n            ],\n            references: [\n                profiles.id\n            ]\n        })\n    }));\nconst refreshTokensRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.relations)(refreshTokens, ({ one })=>({\n        user: one(customUsers, {\n            fields: [\n                refreshTokens.user_id\n            ],\n            references: [\n                customUsers.id\n            ]\n        })\n    }));\nconst passwordResetsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.relations)(passwordResets, ({ one })=>({\n        user: one(customUsers, {\n            fields: [\n                passwordResets.user_id\n            ],\n            references: [\n                customUsers.id\n            ]\n        })\n    }));\nconst profilesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.relations)(profiles, ({ one })=>({\n        bodyProfile: one(bodyProfiles, {\n            fields: [\n                profiles.id\n            ],\n            references: [\n                bodyProfiles.user_id\n            ]\n        })\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsRUFBRWtDLEdBQUcsRUFBRSxHQUFNO1FBQ2pFUSxhQUFhUixJQUFJZixjQUFjO1lBQzdCa0IsUUFBWTtnQkFBQ3JDLFNBQVN0QixFQUFFO2FBQUM7WUFDekJlLFlBQVk7Z0JBQUMwQixhQUFhM0IsT0FBTzthQUFDO1FBQ3BDO0lBQ0YsSUFBSSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxkYlxcc2NoZW1hXFx1c2Vycy5zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBwZ1RhYmxlLCB1dWlkLCB0ZXh0LCBudW1lcmljLCBib29sZWFuLCBpbnRlZ2VyLFxyXG4gIHRpbWVzdGFtcCxcclxufSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcclxuaW1wb3J0IHsgcmVsYXRpb25zIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xyXG5cclxuLy8g4pSA4pSAIGN1c3RvbV91c2VycyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IGN1c3RvbVVzZXJzID0gcGdUYWJsZSgnY3VzdG9tX3VzZXJzJywge1xyXG4gIGlkOiAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXHJcbiAgZW1haWw6ICAgICAgICAgIHRleHQoJ2VtYWlsJykudW5pcXVlKCkubm90TnVsbCgpLFxyXG4gIHBhc3N3b3JkX2hhc2g6ICB0ZXh0KCdwYXNzd29yZF9oYXNoJykubm90TnVsbCgpLFxyXG4gIGVtYWlsX3ZlcmlmaWVkOiBib29sZWFuKCdlbWFpbF92ZXJpZmllZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBjcmVhdGVkX2F0OiAgICAgdGltZXN0YW1wKCdjcmVhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkX2F0OiAgICAgdGltZXN0YW1wKCd1cGRhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcmVmcmVzaF90b2tlbnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCByZWZyZXNoVG9rZW5zID0gcGdUYWJsZSgncmVmcmVzaF90b2tlbnMnLCB7XHJcbiAgaWQ6ICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHVzZXJfaWQ6ICAgIHV1aWQoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBjdXN0b21Vc2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRva2VuX2hhc2g6IHRleHQoJ3Rva2VuX2hhc2gnKS51bmlxdWUoKS5ub3ROdWxsKCksXHJcbiAgZXhwaXJlc19hdDogdGltZXN0YW1wKCdleHBpcmVzX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLFxyXG4gIHJldm9rZWQ6ICAgIGJvb2xlYW4oJ3Jldm9rZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcGFzc3dvcmRfcmVzZXRzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgcGFzc3dvcmRSZXNldHMgPSBwZ1RhYmxlKCdwYXNzd29yZF9yZXNldHMnLCB7XHJcbiAgaWQ6ICAgICAgICAgdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxyXG4gIHVzZXJfaWQ6ICAgIHV1aWQoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBjdXN0b21Vc2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRva2VuX2hhc2g6IHRleHQoJ3Rva2VuX2hhc2gnKS51bmlxdWUoKS5ub3ROdWxsKCksXHJcbiAgZXhwaXJlc19hdDogdGltZXN0YW1wKCdleHBpcmVzX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLFxyXG4gIHVzZWQ6ICAgICAgIGJvb2xlYW4oJ3VzZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgcHJvZmlsZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlcyA9IHBnVGFibGUoJ3Byb2ZpbGVzJywge1xyXG4gIGlkOiAgICAgICAgICAgICB1dWlkKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB1c2VybmFtZTogICAgICAgdGV4dCgndXNlcm5hbWUnKS51bmlxdWUoKS5ub3ROdWxsKCksXHJcbiAgZGlzcGxheV9uYW1lOiAgIHRleHQoJ2Rpc3BsYXlfbmFtZScpLFxyXG4gIGJpbzogICAgICAgICAgICB0ZXh0KCdiaW8nKSxcclxuICBhdmF0YXJfdXJsOiAgICAgdGV4dCgnYXZhdGFyX3VybCcpLFxyXG4gIGxvY2F0aW9uOiAgICAgICB0ZXh0KCdsb2NhdGlvbicpLFxyXG4gIGlzX3ZlcmlmaWVkOiAgICBib29sZWFuKCdpc192ZXJpZmllZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBmb2xsb3dlcl9jb3VudDogaW50ZWdlcignZm9sbG93ZXJfY291bnQnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICBmb2xsb3dpbmdfY291bnQ6aW50ZWdlcignZm9sbG93aW5nX2NvdW50Jykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgY3JlYXRlZF9hdDogICAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIGFkZHJlc3NlcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGNvbnN0IGFkZHJlc3NlcyA9IHBnVGFibGUoJ2FkZHJlc3NlcycsIHtcclxuICBpZDogICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICAgIHV1aWQoJ3VzZXJfaWQnKS5ub3ROdWxsKCksXHJcbiAgZnVsbF9uYW1lOiAgICB0ZXh0KCdmdWxsX25hbWUnKS5ub3ROdWxsKCksXHJcbiAgcGhvbmU6ICAgICAgICB0ZXh0KCdwaG9uZScpLFxyXG4gIHN0cmVldF9saW5lMTogdGV4dCgnc3RyZWV0X2xpbmUxJykubm90TnVsbCgpLFxyXG4gIHN0cmVldF9saW5lMjogdGV4dCgnc3RyZWV0X2xpbmUyJyksXHJcbiAgY2l0eTogICAgICAgICB0ZXh0KCdjaXR5Jykubm90TnVsbCgpLFxyXG4gIHN0YXRlOiAgICAgICAgdGV4dCgnc3RhdGUnKSxcclxuICBwb3N0YWxfY29kZTogIHRleHQoJ3Bvc3RhbF9jb2RlJyksXHJcbiAgY291bnRyeTogICAgICB0ZXh0KCdjb3VudHJ5Jykubm90TnVsbCgpLFxyXG4gIGlzX2RlZmF1bHQ6ICAgYm9vbGVhbignaXNfZGVmYXVsdCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBjcmVhdGVkX2F0OiAgIHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8g4pSA4pSAIGJvZHlfcHJvZmlsZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBjb25zdCBib2R5UHJvZmlsZXMgPSBwZ1RhYmxlKCdib2R5X3Byb2ZpbGVzJywge1xyXG4gIGlkOiAgICAgICAgICAgICAgICAgIHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcclxuICB1c2VyX2lkOiAgICAgICAgICAgICB1dWlkKCd1c2VyX2lkJykubm90TnVsbCgpLnVuaXF1ZSgpLFxyXG4gIGhlaWdodF9jbTogICAgICAgICAgIG51bWVyaWMoJ2hlaWdodF9jbScpLFxyXG4gIHdlaWdodF9rZzogICAgICAgICAgIG51bWVyaWMoJ3dlaWdodF9rZycpLFxyXG4gIGNoZXN0X2NtOiAgICAgICAgICAgIG51bWVyaWMoJ2NoZXN0X2NtJyksXHJcbiAgd2Fpc3RfY206ICAgICAgICAgICAgbnVtZXJpYygnd2Fpc3RfY20nKSxcclxuICBoaXBzX2NtOiAgICAgICAgICAgICBudW1lcmljKCdoaXBzX2NtJyksXHJcbiAgc2hvdWxkZXJfd2lkdGhfY206ICAgbnVtZXJpYygnc2hvdWxkZXJfd2lkdGhfY20nKSxcclxuICBpbnNlYW1fY206ICAgICAgICAgICBudW1lcmljKCdpbnNlYW1fY20nKSxcclxuICBza2luX3RvbmU6ICAgICAgICAgICB0ZXh0KCdza2luX3RvbmUnKSxcclxuICBhdmF0YXJfbW9kZWxfdXJsOiAgICB0ZXh0KCdhdmF0YXJfbW9kZWxfdXJsJyksXHJcbiAgbXVzY2xlX21hc3NfbGV2ZWw6ICAgaW50ZWdlcignbXVzY2xlX21hc3NfbGV2ZWwnKSxcclxuICBhZ2VfYXBwZWFyYW5jZTogICAgICBpbnRlZ2VyKCdhZ2VfYXBwZWFyYW5jZScpLFxyXG4gIGdlbmRlcl9leHByZXNzaW9uOiAgIHRleHQoJ2dlbmRlcl9leHByZXNzaW9uJyksXHJcbiAgdXBkYXRlZF9hdDogICAgICAgICAgdGltZXN0YW1wKCd1cGRhdGVkX2F0JywgeyB3aXRoVGltZXpvbmU6IHRydWUgfSkubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyDilIDilIAgUmVsYXRpb25zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgY29uc3QgY3VzdG9tVXNlcnNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY3VzdG9tVXNlcnMsICh7IG1hbnksIG9uZSB9KSA9PiAoe1xyXG4gIHRva2VuczogICAgICAgICBtYW55KHJlZnJlc2hUb2tlbnMpLFxyXG4gIHBhc3N3b3JkUmVzZXRzOiBtYW55KHBhc3N3b3JkUmVzZXRzKSxcclxuICBwcm9maWxlOiAgICAgICAgb25lKHByb2ZpbGVzLCB7IGZpZWxkczogW2N1c3RvbVVzZXJzLmlkXSwgcmVmZXJlbmNlczogW3Byb2ZpbGVzLmlkXSB9KSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZnJlc2hUb2tlbnNSZWxhdGlvbnMgPSByZWxhdGlvbnMocmVmcmVzaFRva2VucywgKHsgb25lIH0pID0+ICh7XHJcbiAgdXNlcjogb25lKGN1c3RvbVVzZXJzLCB7IGZpZWxkczogW3JlZnJlc2hUb2tlbnMudXNlcl9pZF0sIHJlZmVyZW5jZXM6IFtjdXN0b21Vc2Vycy5pZF0gfSksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwYXNzd29yZFJlc2V0c1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhwYXNzd29yZFJlc2V0cywgKHsgb25lIH0pID0+ICh7XHJcbiAgdXNlcjogb25lKGN1c3RvbVVzZXJzLCB7IGZpZWxkczogW3Bhc3N3b3JkUmVzZXRzLnVzZXJfaWRdLCByZWZlcmVuY2VzOiBbY3VzdG9tVXNlcnMuaWRdIH0pLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMocHJvZmlsZXMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIGJvZHlQcm9maWxlOiBvbmUoYm9keVByb2ZpbGVzLCB7XHJcbiAgICBmaWVsZHM6ICAgICBbcHJvZmlsZXMuaWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2JvZHlQcm9maWxlcy51c2VyX2lkXSxcclxuICB9KSxcclxufSkpO1xyXG4iXSwibmFtZXMiOlsicGdUYWJsZSIsInV1aWQiLCJ0ZXh0IiwibnVtZXJpYyIsImJvb2xlYW4iLCJpbnRlZ2VyIiwidGltZXN0YW1wIiwicmVsYXRpb25zIiwiY3VzdG9tVXNlcnMiLCJpZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwiZW1haWwiLCJ1bmlxdWUiLCJub3ROdWxsIiwicGFzc3dvcmRfaGFzaCIsImVtYWlsX3ZlcmlmaWVkIiwiZGVmYXVsdCIsImNyZWF0ZWRfYXQiLCJ3aXRoVGltZXpvbmUiLCJkZWZhdWx0Tm93IiwidXBkYXRlZF9hdCIsInJlZnJlc2hUb2tlbnMiLCJ1c2VyX2lkIiwicmVmZXJlbmNlcyIsIm9uRGVsZXRlIiwidG9rZW5faGFzaCIsImV4cGlyZXNfYXQiLCJyZXZva2VkIiwicGFzc3dvcmRSZXNldHMiLCJ1c2VkIiwicHJvZmlsZXMiLCJ1c2VybmFtZSIsImRpc3BsYXlfbmFtZSIsImJpbyIsImF2YXRhcl91cmwiLCJsb2NhdGlvbiIsImlzX3ZlcmlmaWVkIiwiZm9sbG93ZXJfY291bnQiLCJmb2xsb3dpbmdfY291bnQiLCJhZGRyZXNzZXMiLCJmdWxsX25hbWUiLCJwaG9uZSIsInN0cmVldF9saW5lMSIsInN0cmVldF9saW5lMiIsImNpdHkiLCJzdGF0ZSIsInBvc3RhbF9jb2RlIiwiY291bnRyeSIsImlzX2RlZmF1bHQiLCJib2R5UHJvZmlsZXMiLCJoZWlnaHRfY20iLCJ3ZWlnaHRfa2ciLCJjaGVzdF9jbSIsIndhaXN0X2NtIiwiaGlwc19jbSIsInNob3VsZGVyX3dpZHRoX2NtIiwiaW5zZWFtX2NtIiwic2tpbl90b25lIiwiYXZhdGFyX21vZGVsX3VybCIsIm11c2NsZV9tYXNzX2xldmVsIiwiYWdlX2FwcGVhcmFuY2UiLCJnZW5kZXJfZXhwcmVzc2lvbiIsImN1c3RvbVVzZXJzUmVsYXRpb25zIiwibWFueSIsIm9uZSIsInRva2VucyIsInByb2ZpbGUiLCJmaWVsZHMiLCJyZWZyZXNoVG9rZW5zUmVsYXRpb25zIiwidXNlciIsInBhc3N3b3JkUmVzZXRzUmVsYXRpb25zIiwicHJvZmlsZXNSZWxhdGlvbnMiLCJib2R5UHJvZmlsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/db/schema/users.schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth-helpers.ts":
/*!*********************************!*\
  !*** ./src/lib/auth-helpers.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optionalUserId: () => (/* binding */ optionalUserId),\n/* harmony export */   requireUserId: () => (/* binding */ requireUserId)\n/* harmony export */ });\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/jwt */ \"(rsc)/./src/lib/jwt.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/errors */ \"(rsc)/./src/lib/errors.ts\");\n\n\n/**\r\n * Extrae y verifica el access token (Bearer) del header Authorization.\r\n * Lanza UnauthorizedError si falta o es invlido.\r\n */ async function requireUserId(request) {\n    const authHeader = request.headers.get('Authorization') ?? '';\n    if (!authHeader.startsWith('Bearer ')) throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.UnauthorizedError('Token no proporcionado');\n    const token = authHeader.slice(7);\n    try {\n        const payload = await (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_0__.verifyAccessToken)(token);\n        return payload.sub;\n    } catch  {\n        throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.UnauthorizedError('Token invlido o expirado');\n    }\n}\n/**\r\n * Como requireUserId pero devuelve null en lugar de lanzar para rutas opcionales.\r\n */ async function optionalUserId(request) {\n    const authHeader = request.headers.get('Authorization') ?? '';\n    if (!authHeader.startsWith('Bearer ')) return null;\n    const token = authHeader.slice(7);\n    try {\n        const payload = await (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_0__.verifyAccessToken)(token);\n        return payload.sub;\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgtaGVscGVycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQzhDO0FBQ0c7QUFFakQ7OztDQUdDLEdBQ00sZUFBZUUsY0FBY0MsT0FBb0I7SUFDdEQsTUFBTUMsYUFBYUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0JBQW9CO0lBQzNELElBQUksQ0FBQ0YsV0FBV0csVUFBVSxDQUFDLFlBQVksTUFBTSxJQUFJTiwwREFBaUJBLENBQUM7SUFFbkUsTUFBTU8sUUFBUUosV0FBV0ssS0FBSyxDQUFDO0lBQy9CLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1WLDJEQUFpQkEsQ0FBQ1E7UUFDeEMsT0FBT0UsUUFBUUMsR0FBRztJQUNwQixFQUFFLE9BQU07UUFDTixNQUFNLElBQUlWLDBEQUFpQkEsQ0FBQztJQUM5QjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFlVyxlQUFlVCxPQUFvQjtJQUN2RCxNQUFNQyxhQUFhRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0I7SUFDM0QsSUFBSSxDQUFDRixXQUFXRyxVQUFVLENBQUMsWUFBWSxPQUFPO0lBRTlDLE1BQU1DLFFBQVFKLFdBQVdLLEtBQUssQ0FBQztJQUMvQixJQUFJO1FBQ0YsTUFBTUMsVUFBVSxNQUFNViwyREFBaUJBLENBQUNRO1FBQ3hDLE9BQU9FLFFBQVFDLEdBQUc7SUFDcEIsRUFBRSxPQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccGNcXE9uZURyaXZlXFxEb2N1bWVudG9zXFxHaXRIdWJcXFRpZW5kYS1Sb3BhLVZpcnR1YWxcXEJhY2tcXHNyY1xcbGliXFxhdXRoLWhlbHBlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgdmVyaWZ5QWNjZXNzVG9rZW4gfSBmcm9tICdAL2xpYi9qd3QnO1xyXG5pbXBvcnQgeyBVbmF1dGhvcml6ZWRFcnJvciB9IGZyb20gJ0AvbGliL2Vycm9ycyc7XHJcblxyXG4vKipcclxuICogRXh0cmFlIHkgdmVyaWZpY2EgZWwgYWNjZXNzIHRva2VuIChCZWFyZXIpIGRlbCBoZWFkZXIgQXV0aG9yaXphdGlvbi5cclxuICogTGFuemEgVW5hdXRob3JpemVkRXJyb3Igc2kgZmFsdGEgbyBlcyBpbnbDoWxpZG8uXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZVVzZXJJZChyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKSA/PyAnJztcclxuICBpZiAoIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoJ1Rva2VuIG5vIHByb3BvcmNpb25hZG8nKTtcclxuXHJcbiAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnNsaWNlKDcpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgdmVyaWZ5QWNjZXNzVG9rZW4odG9rZW4pO1xyXG4gICAgcmV0dXJuIHBheWxvYWQuc3ViO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdUb2tlbiBpbnbDoWxpZG8gbyBleHBpcmFkbycpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbW8gcmVxdWlyZVVzZXJJZCBwZXJvIGRldnVlbHZlIG51bGwgZW4gbHVnYXIgZGUgbGFuemFyIHBhcmEgcnV0YXMgb3BjaW9uYWxlcy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvcHRpb25hbFVzZXJJZChyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdBdXRob3JpemF0aW9uJykgPz8gJyc7XHJcbiAgaWYgKCFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zbGljZSg3KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHZlcmlmeUFjY2Vzc1Rva2VuKHRva2VuKTtcclxuICAgIHJldHVybiBwYXlsb2FkLnN1YjtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInZlcmlmeUFjY2Vzc1Rva2VuIiwiVW5hdXRob3JpemVkRXJyb3IiLCJyZXF1aXJlVXNlcklkIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsInRva2VuIiwic2xpY2UiLCJwYXlsb2FkIiwic3ViIiwib3B0aW9uYWxVc2VySWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth-helpers.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/errors.ts":
/*!***************************!*\
  !*** ./src/lib/errors.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   ForbiddenError: () => (/* binding */ ForbiddenError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   StockError: () => (/* binding */ StockError),\n/* harmony export */   UnauthorizedError: () => (/* binding */ UnauthorizedError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   handleError: () => (/* binding */ handleError)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n//  Typed application errors \nclass AppError extends Error {\n    constructor(code, message, statusCode = 400){\n        super(message), this.code = code, this.statusCode = statusCode;\n        this.name = 'AppError';\n    }\n}\nclass NotFoundError extends AppError {\n    constructor(resource){\n        super('NOT_FOUND', `${resource} no encontrado`, 404);\n    }\n}\nclass UnauthorizedError extends AppError {\n    constructor(message = 'No autorizado'){\n        super('UNAUTHORIZED', message, 401);\n    }\n}\nclass ForbiddenError extends AppError {\n    constructor(message = 'Accin no permitida'){\n        super('FORBIDDEN', message, 403);\n    }\n}\nclass ConflictError extends AppError {\n    constructor(message){\n        super('CONFLICT', message, 409);\n    }\n}\nclass ValidationError extends AppError {\n    constructor(message){\n        super('VALIDATION_ERROR', message, 422);\n    }\n}\nclass StockError extends AppError {\n    constructor(sku){\n        super('INSUFFICIENT_STOCK', `Stock insuficiente para el SKU: ${sku}`, 409);\n    }\n}\n//  Global error  NextResponse mapper \nfunction handleError(error) {\n    if (error instanceof AppError) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: {\n                code: error.code,\n                message: error.message\n            }\n        }, {\n            status: error.statusCode\n        });\n    }\n    console.error('[Unhandled error]', error);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: {\n            code: 'INTERNAL_ERROR',\n            message: 'Error interno del servidor'\n        }\n    }, {\n        status: 500\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2Vycm9ycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMkM7QUFFM0MsaUZBQWlGO0FBRTFFLE1BQU1DLGlCQUFpQkM7SUFDNUIsWUFDRSxJQUE0QixFQUM1QkUsT0FBZSxFQUNmLGFBQXFDLEdBQUcsQ0FDeEM7UUFDQSxLQUFLLENBQUNBLGVBSlVELE9BQUFBLFdBRUFFLGFBQUFBO1FBR2hCLElBQUksQ0FBQ0MsSUFBSSxHQUFHO0lBQ2Q7QUFDRjtBQUVPLE1BQU1DLHNCQUFzQk47SUFDakMsWUFBWU8sUUFBZ0IsQ0FBRTtRQUM1QixLQUFLLENBQUMsYUFBYSxHQUFHQSxTQUFTLGNBQWMsQ0FBQyxFQUFFO0lBQ2xEO0FBQ0Y7QUFFTyxNQUFNQywwQkFBMEJSO0lBQ3JDLFlBQVlHLFVBQVUsZUFBZSxDQUFFO1FBQ3JDLEtBQUssQ0FBQyxnQkFBZ0JBLFNBQVM7SUFDakM7QUFDRjtBQUVPLE1BQU1NLHVCQUF1QlQ7SUFDbEMsWUFBWUcsVUFBVSxxQkFBcUIsQ0FBRTtRQUMzQyxLQUFLLENBQUMsYUFBYUEsU0FBUztJQUM5QjtBQUNGO0FBRU8sTUFBTU8sc0JBQXNCVjtJQUNqQyxZQUFZRyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDLFlBQVlBLFNBQVM7SUFDN0I7QUFDRjtBQUVPLE1BQU1RLHdCQUF3Qlg7SUFDbkMsWUFBWUcsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQyxvQkFBb0JBLFNBQVM7SUFDckM7QUFDRjtBQUVPLE1BQU1TLG1CQUFtQlo7SUFDOUIsWUFBWWEsR0FBVyxDQUFFO1FBQ3ZCLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxnQ0FBZ0MsRUFBRUEsS0FBSyxFQUFFO0lBQ3hFO0FBQ0Y7QUFFQSw4RUFBOEU7QUFFdkUsU0FBU0MsWUFBWUMsS0FBYztJQUN4QyxJQUFJQSxpQkFBaUJmLFVBQVU7UUFDN0IsT0FBT0QscURBQVlBLENBQUNpQixJQUFJLENBQ3RCO1lBQUVELE9BQU87Z0JBQUViLE1BQU1hLE1BQU1iLElBQUk7Z0JBQUVDLFNBQVNZLE1BQU1aLE9BQU87WUFBQztRQUFFLEdBQ3REO1lBQUVjLFFBQVFGLE1BQU1YLFVBQVU7UUFBQztJQUUvQjtJQUNBYyxRQUFRSCxLQUFLLENBQUMscUJBQXFCQTtJQUNuQyxPQUFPaEIscURBQVlBLENBQUNpQixJQUFJLENBQ3RCO1FBQUVELE9BQU87WUFBRWIsTUFBTTtZQUFrQkMsU0FBUztRQUE2QjtJQUFFLEdBQzNFO1FBQUVjLFFBQVE7SUFBSTtBQUVsQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxsaWJcXGVycm9ycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcblxyXG4vLyDilIDilIAgVHlwZWQgYXBwbGljYXRpb24gZXJyb3JzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvZGU6IHN0cmluZyxcclxuICAgIG1lc3NhZ2U6IHN0cmluZyxcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXIgPSA0MDAsXHJcbiAgKSB7XHJcbiAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIHRoaXMubmFtZSA9ICdBcHBFcnJvcic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTm90Rm91bmRFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcihyZXNvdXJjZTogc3RyaW5nKSB7XHJcbiAgICBzdXBlcignTk9UX0ZPVU5EJywgYCR7cmVzb3VyY2V9IG5vIGVuY29udHJhZG9gLCA0MDQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnTm8gYXV0b3JpemFkbycpIHtcclxuICAgIHN1cGVyKCdVTkFVVEhPUklaRUQnLCBtZXNzYWdlLCA0MDEpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZvcmJpZGRlbkVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnQWNjacOzbiBubyBwZXJtaXRpZGEnKSB7XHJcbiAgICBzdXBlcignRk9SQklEREVOJywgbWVzc2FnZSwgNDAzKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgc3VwZXIoJ0NPTkZMSUNUJywgbWVzc2FnZSwgNDA5KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICBzdXBlcignVkFMSURBVElPTl9FUlJPUicsIG1lc3NhZ2UsIDQyMik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvY2tFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcclxuICBjb25zdHJ1Y3Rvcihza3U6IHN0cmluZykge1xyXG4gICAgc3VwZXIoJ0lOU1VGRklDSUVOVF9TVE9DSycsIGBTdG9jayBpbnN1ZmljaWVudGUgcGFyYSBlbCBTS1U6ICR7c2t1fWAsIDQwOSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDilIDilIAgR2xvYmFsIGVycm9yIOKGkiBOZXh0UmVzcG9uc2UgbWFwcGVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duKTogTmV4dFJlc3BvbnNlIHtcclxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBcHBFcnJvcikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiB7IGNvZGU6IGVycm9yLmNvZGUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSB9LFxyXG4gICAgICB7IHN0YXR1czogZXJyb3Iuc3RhdHVzQ29kZSB9XHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zb2xlLmVycm9yKCdbVW5oYW5kbGVkIGVycm9yXScsIGVycm9yKTtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICB7IGVycm9yOiB7IGNvZGU6ICdJTlRFUk5BTF9FUlJPUicsIG1lc3NhZ2U6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSB9LFxyXG4gICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiQXBwRXJyb3IiLCJFcnJvciIsImNvZGUiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIm5hbWUiLCJOb3RGb3VuZEVycm9yIiwicmVzb3VyY2UiLCJVbmF1dGhvcml6ZWRFcnJvciIsIkZvcmJpZGRlbkVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlZhbGlkYXRpb25FcnJvciIsIlN0b2NrRXJyb3IiLCJza3UiLCJoYW5kbGVFcnJvciIsImVycm9yIiwianNvbiIsInN0YXR1cyIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/errors.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/jwt.ts":
/*!************************!*\
  !*** ./src/lib/jwt.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateRefreshToken: () => (/* binding */ generateRefreshToken),\n/* harmony export */   signAccessToken: () => (/* binding */ signAccessToken),\n/* harmony export */   verifyAccessToken: () => (/* binding */ verifyAccessToken)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/verify.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n\n//  Clave secreta \nfunction getSecret() {\n    const secret = process.env.JWT_SECRET;\n    if (!secret) throw new Error('JWT_SECRET no est definido');\n    return new TextEncoder().encode(secret);\n}\n//  Access token (15 minutos) \nasync function signAccessToken(userId, email) {\n    return new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT({\n        email\n    }).setProtectedHeader({\n        alg: 'HS256'\n    }).setSubject(userId).setIssuedAt().setExpirationTime('15m').sign(getSecret());\n}\n/**\r\n * Verifica el access token.\r\n * Lanza un error si el token es invlido o expir.\r\n */ async function verifyAccessToken(token) {\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify)(token, getSecret());\n    if (!payload.sub || typeof payload.email !== 'string') {\n        throw new Error('Token structure invalid');\n    }\n    return {\n        sub: payload.sub,\n        email: payload.email\n    };\n}\n//  Refresh token (valor opaco  guardamos el hash en la DB) \n/**\r\n * Genera un refresh token opaco (UUID v4).\r\n * El llamador debe hashear y persistir en refresh_tokens.\r\n */ function generateRefreshToken() {\n    return (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2p3dC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBDO0FBQ047QUFRcEMsOEVBQThFO0FBQzlFLFNBQVNHO0lBQ1AsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxVQUFVO0lBQ3JDLElBQUksQ0FBQ0gsUUFBUSxNQUFNLElBQUlJLE1BQU07SUFDN0IsT0FBTyxJQUFJQyxjQUFjQyxNQUFNLENBQUNOO0FBQ2xDO0FBRUEsOEVBQThFO0FBQ3ZFLGVBQWVPLGdCQUFnQkMsTUFBYyxFQUFFQyxLQUFhO0lBQ2pFLE9BQU8sSUFBSWIseUNBQU9BLENBQUM7UUFBRWE7SUFBTSxHQUN4QkMsa0JBQWtCLENBQUM7UUFBRUMsS0FBSztJQUFRLEdBQ2xDQyxVQUFVLENBQUNKLFFBQ1hLLFdBQVcsR0FDWEMsaUJBQWlCLENBQUMsT0FDbEJDLElBQUksQ0FBQ2hCO0FBQ1Y7QUFFQTs7O0NBR0MsR0FDTSxlQUFlaUIsa0JBQWtCQyxLQUFhO0lBQ25ELE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUcsTUFBTXJCLCtDQUFTQSxDQUFDb0IsT0FBT2xCO0lBQzNDLElBQUksQ0FBQ21CLFFBQVFDLEdBQUcsSUFBSSxPQUFPRCxRQUFRVCxLQUFLLEtBQUssVUFBVTtRQUNyRCxNQUFNLElBQUlMLE1BQU07SUFDbEI7SUFDQSxPQUFPO1FBQUVlLEtBQUtELFFBQVFDLEdBQUc7UUFBRVYsT0FBT1MsUUFBUVQsS0FBSztJQUFDO0FBQ2xEO0FBRUEsNkVBQTZFO0FBQzdFOzs7Q0FHQyxHQUNNLFNBQVNXO0lBQ2QsT0FBT3RCLGtEQUFVQTtBQUNuQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxsaWJcXGp3dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaWduSldULCBqd3RWZXJpZnkgfSBmcm9tICdqb3NlJztcclxuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XHJcblxyXG4vLyDilIDilIAgVGlwb3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXNzVG9rZW5QYXlsb2FkIHtcclxuICBzdWI6ICAgc3RyaW5nOyAvLyB1c2VySWRcclxuICBlbWFpbDogc3RyaW5nO1xyXG59XHJcblxyXG4vLyDilIDilIAgQ2xhdmUgc2VjcmV0YSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZnVuY3Rpb24gZ2V0U2VjcmV0KCk6IFVpbnQ4QXJyYXkge1xyXG4gIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQ7XHJcbiAgaWYgKCFzZWNyZXQpIHRocm93IG5ldyBFcnJvcignSldUX1NFQ1JFVCBubyBlc3TDoSBkZWZpbmlkbycpO1xyXG4gIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc2VjcmV0KTtcclxufVxyXG5cclxuLy8g4pSA4pSAIEFjY2VzcyB0b2tlbiAoMTUgbWludXRvcykg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduQWNjZXNzVG9rZW4odXNlcklkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHJldHVybiBuZXcgU2lnbkpXVCh7IGVtYWlsIH0pXHJcbiAgICAuc2V0UHJvdGVjdGVkSGVhZGVyKHsgYWxnOiAnSFMyNTYnIH0pXHJcbiAgICAuc2V0U3ViamVjdCh1c2VySWQpXHJcbiAgICAuc2V0SXNzdWVkQXQoKVxyXG4gICAgLnNldEV4cGlyYXRpb25UaW1lKCcxNW0nKVxyXG4gICAgLnNpZ24oZ2V0U2VjcmV0KCkpO1xyXG59XHJcblxyXG4vKipcclxuICogVmVyaWZpY2EgZWwgYWNjZXNzIHRva2VuLlxyXG4gKiBMYW56YSB1biBlcnJvciBzaSBlbCB0b2tlbiBlcyBpbnbDoWxpZG8gbyBleHBpcsOzLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeUFjY2Vzc1Rva2VuKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEFjY2Vzc1Rva2VuUGF5bG9hZD4ge1xyXG4gIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgand0VmVyaWZ5KHRva2VuLCBnZXRTZWNyZXQoKSk7XHJcbiAgaWYgKCFwYXlsb2FkLnN1YiB8fCB0eXBlb2YgcGF5bG9hZC5lbWFpbCAhPT0gJ3N0cmluZycpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gc3RydWN0dXJlIGludmFsaWQnKTtcclxuICB9XHJcbiAgcmV0dXJuIHsgc3ViOiBwYXlsb2FkLnN1YiwgZW1haWw6IHBheWxvYWQuZW1haWwgfTtcclxufVxyXG5cclxuLy8g4pSA4pSAIFJlZnJlc2ggdG9rZW4gKHZhbG9yIG9wYWNvIOKAlCBndWFyZGFtb3MgZWwgaGFzaCBlbiBsYSBEQikg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbi8qKlxyXG4gKiBHZW5lcmEgdW4gcmVmcmVzaCB0b2tlbiBvcGFjbyAoVVVJRCB2NCkuXHJcbiAqIEVsIGxsYW1hZG9yIGRlYmUgaGFzaGVhciB5IHBlcnNpc3RpciBlbiByZWZyZXNoX3Rva2Vucy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlZnJlc2hUb2tlbigpOiBzdHJpbmcge1xyXG4gIHJldHVybiByYW5kb21VVUlEKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNpZ25KV1QiLCJqd3RWZXJpZnkiLCJyYW5kb21VVUlEIiwiZ2V0U2VjcmV0Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJFcnJvciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic2lnbkFjY2Vzc1Rva2VuIiwidXNlcklkIiwiZW1haWwiLCJzZXRQcm90ZWN0ZWRIZWFkZXIiLCJhbGciLCJzZXRTdWJqZWN0Iiwic2V0SXNzdWVkQXQiLCJzZXRFeHBpcmF0aW9uVGltZSIsInNpZ24iLCJ2ZXJpZnlBY2Nlc3NUb2tlbiIsInRva2VuIiwicGF5bG9hZCIsInN1YiIsImdlbmVyYXRlUmVmcmVzaFRva2VuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/jwt.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/password.ts":
/*!*****************************!*\
  !*** ./src/lib/password.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([bcryptjs__WEBPACK_IMPORTED_MODULE_0__]);\nbcryptjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst ROUNDS = 12;\nasync function hashPassword(plain) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(plain, ROUNDS);\n}\nasync function verifyPassword(plain, hash) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(plain, hash);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Bhc3N3b3JkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QjtBQUU5QixNQUFNQyxTQUFTO0FBRVIsZUFBZUMsYUFBYUMsS0FBYTtJQUM5QyxPQUFPSCxxREFBVyxDQUFDRyxPQUFPRjtBQUM1QjtBQUVPLGVBQWVJLGVBQWVGLEtBQWEsRUFBRUMsSUFBWTtJQUM5RCxPQUFPSix3REFBYyxDQUFDRyxPQUFPQztBQUMvQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxsaWJcXHBhc3N3b3JkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuY29uc3QgUk9VTkRTID0gMTI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBsYWluOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHJldHVybiBiY3J5cHQuaGFzaChwbGFpbiwgUk9VTkRTKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKHBsYWluOiBzdHJpbmcsIGhhc2g6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwbGFpbiwgaGFzaCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImJjcnlwdCIsIlJPVU5EUyIsImhhc2hQYXNzd29yZCIsInBsYWluIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/password.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/response.ts":
/*!*****************************!*\
  !*** ./src/lib/response.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   created: () => (/* binding */ created),\n/* harmony export */   noContent: () => (/* binding */ noContent),\n/* harmony export */   ok: () => (/* binding */ ok),\n/* harmony export */   paginated: () => (/* binding */ paginated)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n/** Returns a 200 JSON response with the data envelope. */ function ok(data, meta, status = 200) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        data,\n        ...meta ? {\n            meta\n        } : {}\n    }, {\n        status\n    });\n}\n/** Returns a 201 Created response. */ function created(data) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        data\n    }, {\n        status: 201\n    });\n}\n/** Returns a 204 No Content response. */ function noContent() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 204\n    });\n}\n/** Returns a paginated response. */ function paginated(items, meta) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        data: items,\n        meta\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Jlc3BvbnNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBaUIzQyx3REFBd0QsR0FDakQsU0FBU0MsR0FBTUMsSUFBTyxFQUFFQyxJQUE4QixFQUFFQyxTQUFTLEdBQUc7SUFDekUsT0FBT0oscURBQVlBLENBQUNLLElBQUksQ0FBQztRQUFFSDtRQUFNLEdBQUlDLE9BQU87WUFBRUE7UUFBSyxJQUFJLENBQUMsQ0FBQztJQUFFLEdBQUc7UUFBRUM7SUFBTztBQUN6RTtBQUVBLG9DQUFvQyxHQUM3QixTQUFTRSxRQUFXSixJQUFPO0lBQ2hDLE9BQU9GLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFBRUg7SUFBSyxHQUFHO1FBQUVFLFFBQVE7SUFBSTtBQUNuRDtBQUVBLHVDQUF1QyxHQUNoQyxTQUFTRztJQUNkLE9BQU8sSUFBSVAscURBQVlBLENBQUMsTUFBTTtRQUFFSSxRQUFRO0lBQUk7QUFDOUM7QUFFQSxrQ0FBa0MsR0FDM0IsU0FBU0ksVUFDZEMsS0FBVSxFQUNWTixJQUFrQztJQUVsQyxPQUFPSCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1FBQUVILE1BQU1PO1FBQU9OO0lBQUs7QUFDL0MiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccGNcXE9uZURyaXZlXFxEb2N1bWVudG9zXFxHaXRIdWJcXFRpZW5kYS1Sb3BhLVZpcnR1YWxcXEJhY2tcXHNyY1xcbGliXFxyZXNwb25zZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQgPSB1bmtub3duPiB7XHJcbiAgZGF0YTogVDtcclxuICBtZXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGVkUmVzcG9uc2U8VD4ge1xyXG4gIGRhdGE6IFRbXTtcclxuICBtZXRhOiB7XHJcbiAgICB0b3RhbDogICAgbnVtYmVyO1xyXG4gICAgcGFnZTogICAgIG51bWJlcjtcclxuICAgIHBlcl9wYWdlOiBudW1iZXI7XHJcbiAgICBjdXJzb3I/OiAgc3RyaW5nIHwgbnVsbDtcclxuICB9O1xyXG59XHJcblxyXG4vKiogUmV0dXJucyBhIDIwMCBKU09OIHJlc3BvbnNlIHdpdGggdGhlIGRhdGEgZW52ZWxvcGUuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvazxUPihkYXRhOiBULCBtZXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHN0YXR1cyA9IDIwMCk6IE5leHRSZXNwb25zZSB7XHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZGF0YSwgLi4uKG1ldGEgPyB7IG1ldGEgfSA6IHt9KSB9LCB7IHN0YXR1cyB9KTtcclxufVxyXG5cclxuLyoqIFJldHVybnMgYSAyMDEgQ3JlYXRlZCByZXNwb25zZS4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZWQ8VD4oZGF0YTogVCk6IE5leHRSZXNwb25zZSB7XHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZGF0YSB9LCB7IHN0YXR1czogMjAxIH0pO1xyXG59XHJcblxyXG4vKiogUmV0dXJucyBhIDIwNCBObyBDb250ZW50IHJlc3BvbnNlLiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbm9Db250ZW50KCk6IE5leHRSZXNwb25zZSB7XHJcbiAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDIwNCB9KTtcclxufVxyXG5cclxuLyoqIFJldHVybnMgYSBwYWdpbmF0ZWQgcmVzcG9uc2UuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYWdpbmF0ZWQ8VD4oXHJcbiAgaXRlbXM6IFRbXSxcclxuICBtZXRhOiBQYWdpbmF0ZWRSZXNwb25zZTxUPlsnbWV0YSddXHJcbik6IE5leHRSZXNwb25zZSB7XHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZGF0YTogaXRlbXMsIG1ldGEgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIm9rIiwiZGF0YSIsIm1ldGEiLCJzdGF0dXMiLCJqc29uIiwiY3JlYXRlZCIsIm5vQ29udGVudCIsInBhZ2luYXRlZCIsIml0ZW1zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/response.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/client.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/client.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\nconst supabaseUrl = \"https://oxkuhknlvwiykynmouqx.supabase.co\";\nconst supabaseAnon = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94a3Voa25sdndpeWt5bm1vdXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MTMxNjgsImV4cCI6MjA4NzE4OTE2OH0.vB_nLGVW2mRi2YoFP7FKrNHxjETmW83d8X9o5ptE618\";\n/**\r\n * Browser / server-component safe client (uses the anon key).\r\n * For mutations that require the user's JWT, pass the token via the\r\n * Authorization header or use createServerClient from @supabase/ssr instead.\r\n */ const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnon);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRDtBQUVyRCxNQUFNQyxjQUFlQywwQ0FBb0M7QUFDekQsTUFBTUcsZUFBZUgsa05BQXlDO0FBRTlEOzs7O0NBSUMsR0FDTSxNQUFNSyxXQUFXUCxtRUFBWUEsQ0FBQ0MsYUFBYUksY0FBYyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxsaWJcXHN1cGFiYXNlXFxjbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsICA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XHJcbmNvbnN0IHN1cGFiYXNlQW5vbiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZITtcclxuXHJcbi8qKlxyXG4gKiBCcm93c2VyIC8gc2VydmVyLWNvbXBvbmVudCBzYWZlIGNsaWVudCAodXNlcyB0aGUgYW5vbiBrZXkpLlxyXG4gKiBGb3IgbXV0YXRpb25zIHRoYXQgcmVxdWlyZSB0aGUgdXNlcidzIEpXVCwgcGFzcyB0aGUgdG9rZW4gdmlhIHRoZVxyXG4gKiBBdXRob3JpemF0aW9uIGhlYWRlciBvciB1c2UgY3JlYXRlU2VydmVyQ2xpZW50IGZyb20gQHN1cGFiYXNlL3NzciBpbnN0ZWFkLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub24pO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/client.ts\n");

/***/ }),

/***/ "(rsc)/./src/modules/auth/auth.service.ts":
/*!******************************************!*\
  !*** ./src/modules/auth/auth.service.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService),\n/* harmony export */   authService: () => (/* binding */ authService)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _db_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db/client */ \"(rsc)/./src/db/client.ts\");\n/* harmony import */ var _db_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/db/schema */ \"(rsc)/./src/db/schema/index.ts\");\n/* harmony import */ var _lib_password__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/password */ \"(rsc)/./src/lib/password.ts\");\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/jwt */ \"(rsc)/./src/lib/jwt.ts\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/supabase/client */ \"(rsc)/./src/lib/supabase/client.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/errors */ \"(rsc)/./src/lib/errors.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_client__WEBPACK_IMPORTED_MODULE_1__, _lib_password__WEBPACK_IMPORTED_MODULE_3__]);\n([_db_client__WEBPACK_IMPORTED_MODULE_1__, _lib_password__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n//  Helpers \nfunction sha256(value) {\n    return (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(value).digest('hex');\n}\nconst ACCESS_TOKEN_SECS = 15 * 60; // 15 minutos\nconst REFRESH_TOKEN_DAYS = 30; // 30 das\nasync function issueTokens(userId, email) {\n    const accessToken = await (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_4__.signAccessToken)(userId, email);\n    const refreshToken = (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_4__.generateRefreshToken)();\n    const tokenHash = sha256(refreshToken);\n    const expiresAt = new Date(Date.now() + REFRESH_TOKEN_DAYS * 86400000);\n    await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.insert(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).values({\n        user_id: userId,\n        token_hash: tokenHash,\n        expires_at: expiresAt\n    });\n    return {\n        accessToken,\n        refreshToken,\n        expiresIn: ACCESS_TOKEN_SECS\n    };\n}\n//  Servicio \nclass AuthService {\n    async register({ email, password }) {\n        const existing = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            id: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id\n        }).from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.email, email.toLowerCase())).limit(1);\n        if (existing.length > 0) {\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.ConflictError('Este email ya est registrado');\n        }\n        const passwordHash = await (0,_lib_password__WEBPACK_IMPORTED_MODULE_3__.hashPassword)(password);\n        const [user] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.insert(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).values({\n            email: email.toLowerCase(),\n            password_hash: passwordHash\n        }).returning({\n            id: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id,\n            email: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.email\n        });\n        // Crear perfil vaco automticamente al registrar\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.insert(profiles).values({\n            id: user.id,\n            username: `user_${user.id.slice(0, 8)}`\n        });\n        const tokens = await issueTokens(user.id, user.email);\n        return {\n            user: {\n                id: user.id,\n                email: user.email\n            },\n            tokens\n        };\n    }\n    async loginWithPassword({ email, password }) {\n        const [user] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.email, email.toLowerCase())).limit(1);\n        if (!user) throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.UnauthorizedError('Credenciales invlidas');\n        const valid = await (0,_lib_password__WEBPACK_IMPORTED_MODULE_3__.verifyPassword)(password, user.password_hash);\n        if (!valid) throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.UnauthorizedError('Credenciales invlidas');\n        const tokens = await issueTokens(user.id, user.email);\n        return {\n            user: {\n                id: user.id,\n                email: user.email\n            },\n            tokens\n        };\n    }\n    /** Mantener Google OAuth en paralelo  redirige a Supabase OAuth */ async loginWithOAuth(provider) {\n        const { data, error } = await _lib_supabase_client__WEBPACK_IMPORTED_MODULE_5__.supabase.auth.signInWithOAuth({\n            provider,\n            options: {\n                redirectTo: `${\"http://localhost:3001\"}/api/auth/callback`\n            }\n        });\n        if (error) throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.AppError('AUTH_ERROR', error.message, 400);\n        return {\n            url: data.url\n        };\n    }\n    async logout(userId, refreshToken) {\n        if (refreshToken) {\n            // Revocar solo el refresh token especfico\n            const tokenHash = sha256(refreshToken);\n            await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).set({\n                revoked: true\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.user_id, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.token_hash, tokenHash)));\n        } else {\n            // Revocar todos los refresh tokens del usuario\n            await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).set({\n                revoked: true\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.user_id, userId));\n        }\n    }\n    async refreshSession(refreshToken) {\n        const tokenHash = sha256(refreshToken);\n        const now = new Date();\n        const [row] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.token_hash, tokenHash)).limit(1);\n        if (!row || row.revoked || row.expires_at < now) {\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.UnauthorizedError('Refresh token invlido o expirado');\n        }\n        // Obtener datos del usuario\n        const [user] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            id: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id,\n            email: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.email\n        }).from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id, row.user_id)).limit(1);\n        if (!user) throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.UnauthorizedError('Usuario no encontrado');\n        // Rotar: revocar el viejo y emitir nuevo\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).set({\n            revoked: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.id, row.id));\n        return issueTokens(user.id, user.email);\n    }\n    async sendPasswordReset(email) {\n        const [user] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            id: _db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id\n        }).from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.email, email.toLowerCase())).limit(1);\n        // Anti-enumeracin: no revelar si el email existe\n        if (!user) return;\n        const token = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)();\n        const tokenHash = sha256(token);\n        const expiresAt = new Date(Date.now() + 60 * 60 * 1000); // 1 hora\n        // Invalidar resets anteriores\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets).set({\n            used: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets.user_id, user.id));\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.insert(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets).values({\n            user_id: user.id,\n            token_hash: tokenHash,\n            expires_at: expiresAt\n        });\n        // En desarrollo: el token se retorna por el API route\n        // En produccin: enviar por email\n        if (true) {\n            console.log(`[DEV] Password reset token for ${email}: ${token}`);\n        }\n    }\n    async updatePassword(userId, newPassword) {\n        const passwordHash = await (0,_lib_password__WEBPACK_IMPORTED_MODULE_3__.hashPassword)(newPassword);\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).set({\n            password_hash: passwordHash,\n            updated_at: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id, userId));\n        // Revocar todos los refresh tokens por seguridad\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).set({\n            revoked: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.user_id, userId));\n    }\n    /** Verificar token de reset de contrasea y actualizar password */ async resetPasswordWithToken(token, newPassword) {\n        const tokenHash = sha256(token);\n        const now = new Date();\n        const [row] = await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets.token_hash, tokenHash)).limit(1);\n        if (!row || row.used || row.expires_at < now) {\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_6__.UnauthorizedError('Token de recuperacin invlido o expirado');\n        }\n        const passwordHash = await (0,_lib_password__WEBPACK_IMPORTED_MODULE_3__.hashPassword)(newPassword);\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers).set({\n            password_hash: passwordHash,\n            updated_at: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.customUsers.id, row.user_id));\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets).set({\n            used: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.passwordResets.id, row.id));\n        // Revocar todos los refresh tokens\n        await _db_client__WEBPACK_IMPORTED_MODULE_1__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens).set({\n            revoked: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_2__.refreshTokens.user_id, row.user_id));\n    }\n}\nconst authService = new AuthService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBRUEsQ0FBQ0csbURBQVdBLENBQUNxQyxFQUFFLEVBQUVpQyxJQUFJMUMsT0FBTztRQUV2QyxNQUFNN0IsMENBQUVBLENBQ0xjLE1BQU0sQ0FBQ1gsc0RBQWNBLEVBQ3JCaUUsR0FBRyxDQUFDO1lBQUVNLE1BQU07UUFBSyxHQUNqQmxDLEtBQUssQ0FBQzFDLCtDQUFFQSxDQUFDSyxzREFBY0EsQ0FBQ21DLEVBQUUsRUFBRWlDLElBQUlqQyxFQUFFO1FBRXJDLG1DQUFtQztRQUNuQyxNQUFNdEMsMENBQUVBLENBQ0xjLE1BQU0sQ0FBQ1oscURBQWFBLEVBQ3BCa0UsR0FBRyxDQUFDO1lBQUVDLFNBQVM7UUFBSyxHQUNwQjdCLEtBQUssQ0FBQzFDLCtDQUFFQSxDQUFDSSxxREFBYUEsQ0FBQzJCLE9BQU8sRUFBRTBDLElBQUkxQyxPQUFPO0lBQ2hEO0FBQ0Y7QUFFTyxNQUFNb0QsY0FBYyxJQUFJaEQsY0FBYyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwY1xcT25lRHJpdmVcXERvY3VtZW50b3NcXEdpdEh1YlxcVGllbmRhLVJvcGEtVmlydHVhbFxcQmFja1xcc3JjXFxtb2R1bGVzXFxhdXRoXFxhdXRoLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSGFzaCwgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XHJcbmltcG9ydCB7IGVxLCBhbmQgfSBmcm9tICdkcml6emxlLW9ybSc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9kYi9jbGllbnQnO1xyXG5pbXBvcnQgeyBjdXN0b21Vc2VycywgcmVmcmVzaFRva2VucywgcGFzc3dvcmRSZXNldHMgfSBmcm9tICdAL2RiL3NjaGVtYSc7XHJcbmltcG9ydCB7IGhhc2hQYXNzd29yZCwgdmVyaWZ5UGFzc3dvcmQgfSBmcm9tICdAL2xpYi9wYXNzd29yZCc7XHJcbmltcG9ydCB7IHNpZ25BY2Nlc3NUb2tlbiwgZ2VuZXJhdGVSZWZyZXNoVG9rZW4gfSBmcm9tICdAL2xpYi9qd3QnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL2NsaWVudCc7XHJcbmltcG9ydCB7IEFwcEVycm9yLCBVbmF1dGhvcml6ZWRFcnJvciwgQ29uZmxpY3RFcnJvciB9IGZyb20gJ0AvbGliL2Vycm9ycyc7XHJcbmltcG9ydCB0eXBlIHtcclxuICBJQXV0aFNlcnZpY2UsIFJlZ2lzdGVyRHRvLCBMb2dpbkR0byxcclxuICBBdXRoUmVzdWx0LCBBdXRoVG9rZW5zLFxyXG59IGZyb20gJy4vaW50ZXJmYWNlcy9JQXV0aFNlcnZpY2UnO1xyXG5cclxuLy8g4pSA4pSAIEhlbHBlcnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5mdW5jdGlvbiBzaGEyNTYodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZSh2YWx1ZSkuZGlnZXN0KCdoZXgnKTtcclxufVxyXG5cclxuY29uc3QgQUNDRVNTX1RPS0VOX1NFQ1MgPSAxNSAqIDYwOyAgICAgICAgICAvLyAxNSBtaW51dG9zXHJcbmNvbnN0IFJFRlJFU0hfVE9LRU5fREFZUyA9IDMwOyAgICAgICAgICAgICAgLy8gMzAgZMOtYXNcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGlzc3VlVG9rZW5zKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxBdXRoVG9rZW5zPiB7XHJcbiAgY29uc3QgYWNjZXNzVG9rZW4gID0gYXdhaXQgc2lnbkFjY2Vzc1Rva2VuKHVzZXJJZCwgZW1haWwpO1xyXG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdlbmVyYXRlUmVmcmVzaFRva2VuKCk7XHJcbiAgY29uc3QgdG9rZW5IYXNoICAgID0gc2hhMjU2KHJlZnJlc2hUb2tlbik7XHJcbiAgY29uc3QgZXhwaXJlc0F0ICAgID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIFJFRlJFU0hfVE9LRU5fREFZUyAqIDg2XzQwMF8wMDApO1xyXG5cclxuICBhd2FpdCBkYi5pbnNlcnQocmVmcmVzaFRva2VucykudmFsdWVzKHtcclxuICAgIHVzZXJfaWQ6ICAgIHVzZXJJZCxcclxuICAgIHRva2VuX2hhc2g6IHRva2VuSGFzaCxcclxuICAgIGV4cGlyZXNfYXQ6IGV4cGlyZXNBdCxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHsgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiwgZXhwaXJlc0luOiBBQ0NFU1NfVE9LRU5fU0VDUyB9O1xyXG59XHJcblxyXG4vLyDilIDilIAgU2VydmljaW8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2UgaW1wbGVtZW50cyBJQXV0aFNlcnZpY2Uge1xyXG5cclxuICBhc3luYyByZWdpc3Rlcih7IGVtYWlsLCBwYXNzd29yZCB9OiBSZWdpc3RlckR0byk6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xyXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBkYlxyXG4gICAgICAuc2VsZWN0KHsgaWQ6IGN1c3RvbVVzZXJzLmlkIH0pXHJcbiAgICAgIC5mcm9tKGN1c3RvbVVzZXJzKVxyXG4gICAgICAud2hlcmUoZXEoY3VzdG9tVXNlcnMuZW1haWwsIGVtYWlsLnRvTG93ZXJDYXNlKCkpKVxyXG4gICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhyb3cgbmV3IENvbmZsaWN0RXJyb3IoJ0VzdGUgZW1haWwgeWEgZXN0w6EgcmVnaXN0cmFkbycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBhc3N3b3JkSGFzaCA9IGF3YWl0IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XHJcbiAgICBjb25zdCBbdXNlcl0gPSBhd2FpdCBkYlxyXG4gICAgICAuaW5zZXJ0KGN1c3RvbVVzZXJzKVxyXG4gICAgICAudmFsdWVzKHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCksIHBhc3N3b3JkX2hhc2g6IHBhc3N3b3JkSGFzaCB9KVxyXG4gICAgICAucmV0dXJuaW5nKHsgaWQ6IGN1c3RvbVVzZXJzLmlkLCBlbWFpbDogY3VzdG9tVXNlcnMuZW1haWwgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXIgcGVyZmlsIHZhY8OtbyBhdXRvbcOhdGljYW1lbnRlIGFsIHJlZ2lzdHJhclxyXG4gICAgYXdhaXQgZGIuaW5zZXJ0KHByb2ZpbGVzKS52YWx1ZXMoe1xyXG4gICAgICBpZDogdXNlci5pZCxcclxuICAgICAgdXNlcm5hbWU6IGB1c2VyXyR7dXNlci5pZC5zbGljZSgwLCA4KX1gLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgaXNzdWVUb2tlbnModXNlci5pZCwgdXNlci5lbWFpbCk7XHJcbiAgICByZXR1cm4geyB1c2VyOiB7IGlkOiB1c2VyLmlkLCBlbWFpbDogdXNlci5lbWFpbCB9LCB0b2tlbnMgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvZ2luV2l0aFBhc3N3b3JkKHsgZW1haWwsIHBhc3N3b3JkIH06IExvZ2luRHRvKTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XHJcbiAgICBjb25zdCBbdXNlcl0gPSBhd2FpdCBkYlxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLmZyb20oY3VzdG9tVXNlcnMpXHJcbiAgICAgIC53aGVyZShlcShjdXN0b21Vc2Vycy5lbWFpbCwgZW1haWwudG9Mb3dlckNhc2UoKSkpXHJcbiAgICAgIC5saW1pdCgxKTtcclxuXHJcbiAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcignQ3JlZGVuY2lhbGVzIGludsOhbGlkYXMnKTtcclxuXHJcbiAgICBjb25zdCB2YWxpZCA9IGF3YWl0IHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkX2hhc2gpO1xyXG4gICAgaWYgKCF2YWxpZCkgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdDcmVkZW5jaWFsZXMgaW52w6FsaWRhcycpO1xyXG5cclxuICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGlzc3VlVG9rZW5zKHVzZXIuaWQsIHVzZXIuZW1haWwpO1xyXG4gICAgcmV0dXJuIHsgdXNlcjogeyBpZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwgfSwgdG9rZW5zIH07XHJcbiAgfVxyXG5cclxuICAvKiogTWFudGVuZXIgR29vZ2xlIE9BdXRoIGVuIHBhcmFsZWxvIOKAlCByZWRpcmlnZSBhIFN1cGFiYXNlIE9BdXRoICovXHJcbiAgYXN5bmMgbG9naW5XaXRoT0F1dGgocHJvdmlkZXI6ICdnb29nbGUnKTogUHJvbWlzZTx7IHVybDogc3RyaW5nIH0+IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aE9BdXRoKHtcclxuICAgICAgcHJvdmlkZXIsXHJcbiAgICAgIG9wdGlvbnM6IHsgcmVkaXJlY3RUbzogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTH0vYXBpL2F1dGgvY2FsbGJhY2tgIH0sXHJcbiAgICB9KTtcclxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEFwcEVycm9yKCdBVVRIX0VSUk9SJywgZXJyb3IubWVzc2FnZSwgNDAwKTtcclxuICAgIHJldHVybiB7IHVybDogZGF0YS51cmwgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvZ291dCh1c2VySWQ6IHN0cmluZywgcmVmcmVzaFRva2VuPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAocmVmcmVzaFRva2VuKSB7XHJcbiAgICAgIC8vIFJldm9jYXIgc29sbyBlbCByZWZyZXNoIHRva2VuIGVzcGVjw61maWNvXHJcbiAgICAgIGNvbnN0IHRva2VuSGFzaCA9IHNoYTI1NihyZWZyZXNoVG9rZW4pO1xyXG4gICAgICBhd2FpdCBkYlxyXG4gICAgICAgIC51cGRhdGUocmVmcmVzaFRva2VucylcclxuICAgICAgICAuc2V0KHsgcmV2b2tlZDogdHJ1ZSB9KVxyXG4gICAgICAgIC53aGVyZShcclxuICAgICAgICAgIGFuZChcclxuICAgICAgICAgICAgZXEocmVmcmVzaFRva2Vucy51c2VyX2lkLCB1c2VySWQpLFxyXG4gICAgICAgICAgICBlcShyZWZyZXNoVG9rZW5zLnRva2VuX2hhc2gsIHRva2VuSGFzaCksXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBSZXZvY2FyIHRvZG9zIGxvcyByZWZyZXNoIHRva2VucyBkZWwgdXN1YXJpb1xyXG4gICAgICBhd2FpdCBkYlxyXG4gICAgICAgIC51cGRhdGUocmVmcmVzaFRva2VucylcclxuICAgICAgICAuc2V0KHsgcmV2b2tlZDogdHJ1ZSB9KVxyXG4gICAgICAgIC53aGVyZShlcShyZWZyZXNoVG9rZW5zLnVzZXJfaWQsIHVzZXJJZCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVmcmVzaFNlc3Npb24ocmVmcmVzaFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEF1dGhUb2tlbnM+IHtcclxuICAgIGNvbnN0IHRva2VuSGFzaCA9IHNoYTI1NihyZWZyZXNoVG9rZW4pO1xyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICBjb25zdCBbcm93XSA9IGF3YWl0IGRiXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuZnJvbShyZWZyZXNoVG9rZW5zKVxyXG4gICAgICAud2hlcmUoZXEocmVmcmVzaFRva2Vucy50b2tlbl9oYXNoLCB0b2tlbkhhc2gpKVxyXG4gICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgaWYgKCFyb3cgfHwgcm93LnJldm9rZWQgfHwgcm93LmV4cGlyZXNfYXQgPCBub3cpIHtcclxuICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdSZWZyZXNoIHRva2VuIGludsOhbGlkbyBvIGV4cGlyYWRvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT2J0ZW5lciBkYXRvcyBkZWwgdXN1YXJpb1xyXG4gICAgY29uc3QgW3VzZXJdID0gYXdhaXQgZGJcclxuICAgICAgLnNlbGVjdCh7IGlkOiBjdXN0b21Vc2Vycy5pZCwgZW1haWw6IGN1c3RvbVVzZXJzLmVtYWlsIH0pXHJcbiAgICAgIC5mcm9tKGN1c3RvbVVzZXJzKVxyXG4gICAgICAud2hlcmUoZXEoY3VzdG9tVXNlcnMuaWQsIHJvdy51c2VyX2lkKSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGlmICghdXNlcikgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdVc3VhcmlvIG5vIGVuY29udHJhZG8nKTtcclxuXHJcbiAgICAvLyBSb3RhcjogcmV2b2NhciBlbCB2aWVqbyB5IGVtaXRpciBudWV2b1xyXG4gICAgYXdhaXQgZGJcclxuICAgICAgLnVwZGF0ZShyZWZyZXNoVG9rZW5zKVxyXG4gICAgICAuc2V0KHsgcmV2b2tlZDogdHJ1ZSB9KVxyXG4gICAgICAud2hlcmUoZXEocmVmcmVzaFRva2Vucy5pZCwgcm93LmlkKSk7XHJcblxyXG4gICAgcmV0dXJuIGlzc3VlVG9rZW5zKHVzZXIuaWQsIHVzZXIuZW1haWwpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VuZFBhc3N3b3JkUmVzZXQoZW1haWw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgW3VzZXJdID0gYXdhaXQgZGJcclxuICAgICAgLnNlbGVjdCh7IGlkOiBjdXN0b21Vc2Vycy5pZCB9KVxyXG4gICAgICAuZnJvbShjdXN0b21Vc2VycylcclxuICAgICAgLndoZXJlKGVxKGN1c3RvbVVzZXJzLmVtYWlsLCBlbWFpbC50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIC8vIEFudGktZW51bWVyYWNpw7NuOiBubyByZXZlbGFyIHNpIGVsIGVtYWlsIGV4aXN0ZVxyXG4gICAgaWYgKCF1c2VyKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdG9rZW4gICAgPSByYW5kb21VVUlEKCk7XHJcbiAgICBjb25zdCB0b2tlbkhhc2ggPSBzaGEyNTYodG9rZW4pO1xyXG4gICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDYwICogNjAgKiAxMDAwKTsgLy8gMSBob3JhXHJcblxyXG4gICAgLy8gSW52YWxpZGFyIHJlc2V0cyBhbnRlcmlvcmVzXHJcbiAgICBhd2FpdCBkYlxyXG4gICAgICAudXBkYXRlKHBhc3N3b3JkUmVzZXRzKVxyXG4gICAgICAuc2V0KHsgdXNlZDogdHJ1ZSB9KVxyXG4gICAgICAud2hlcmUoZXEocGFzc3dvcmRSZXNldHMudXNlcl9pZCwgdXNlci5pZCkpO1xyXG5cclxuICAgIGF3YWl0IGRiLmluc2VydChwYXNzd29yZFJlc2V0cykudmFsdWVzKHtcclxuICAgICAgdXNlcl9pZDogICAgdXNlci5pZCxcclxuICAgICAgdG9rZW5faGFzaDogdG9rZW5IYXNoLFxyXG4gICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbiBkZXNhcnJvbGxvOiBlbCB0b2tlbiBzZSByZXRvcm5hIHBvciBlbCBBUEkgcm91dGVcclxuICAgIC8vIEVuIHByb2R1Y2Npw7NuOiBlbnZpYXIgcG9yIGVtYWlsXHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtERVZdIFBhc3N3b3JkIHJlc2V0IHRva2VuIGZvciAke2VtYWlsfTogJHt0b2tlbn1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVBhc3N3b3JkKHVzZXJJZDogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBwYXNzd29yZEhhc2ggPSBhd2FpdCBoYXNoUGFzc3dvcmQobmV3UGFzc3dvcmQpO1xyXG4gICAgYXdhaXQgZGJcclxuICAgICAgLnVwZGF0ZShjdXN0b21Vc2VycylcclxuICAgICAgLnNldCh7IHBhc3N3b3JkX2hhc2g6IHBhc3N3b3JkSGFzaCwgdXBkYXRlZF9hdDogbmV3IERhdGUoKSB9KVxyXG4gICAgICAud2hlcmUoZXEoY3VzdG9tVXNlcnMuaWQsIHVzZXJJZCkpO1xyXG5cclxuICAgIC8vIFJldm9jYXIgdG9kb3MgbG9zIHJlZnJlc2ggdG9rZW5zIHBvciBzZWd1cmlkYWRcclxuICAgIGF3YWl0IGRiXHJcbiAgICAgIC51cGRhdGUocmVmcmVzaFRva2VucylcclxuICAgICAgLnNldCh7IHJldm9rZWQ6IHRydWUgfSlcclxuICAgICAgLndoZXJlKGVxKHJlZnJlc2hUb2tlbnMudXNlcl9pZCwgdXNlcklkKSk7XHJcbiAgfVxyXG5cclxuICAvKiogVmVyaWZpY2FyIHRva2VuIGRlIHJlc2V0IGRlIGNvbnRyYXNlw7FhIHkgYWN0dWFsaXphciBwYXNzd29yZCAqL1xyXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmRXaXRoVG9rZW4odG9rZW46IHN0cmluZywgbmV3UGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgdG9rZW5IYXNoID0gc2hhMjU2KHRva2VuKTtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgY29uc3QgW3Jvd10gPSBhd2FpdCBkYlxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLmZyb20ocGFzc3dvcmRSZXNldHMpXHJcbiAgICAgIC53aGVyZShlcShwYXNzd29yZFJlc2V0cy50b2tlbl9oYXNoLCB0b2tlbkhhc2gpKVxyXG4gICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgaWYgKCFyb3cgfHwgcm93LnVzZWQgfHwgcm93LmV4cGlyZXNfYXQgPCBub3cpIHtcclxuICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdUb2tlbiBkZSByZWN1cGVyYWNpw7NuIGludsOhbGlkbyBvIGV4cGlyYWRvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGFzc3dvcmRIYXNoID0gYXdhaXQgaGFzaFBhc3N3b3JkKG5ld1Bhc3N3b3JkKTtcclxuXHJcbiAgICBhd2FpdCBkYlxyXG4gICAgICAudXBkYXRlKGN1c3RvbVVzZXJzKVxyXG4gICAgICAuc2V0KHsgcGFzc3dvcmRfaGFzaDogcGFzc3dvcmRIYXNoLCB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpIH0pXHJcbiAgICAgIC53aGVyZShlcShjdXN0b21Vc2Vycy5pZCwgcm93LnVzZXJfaWQpKTtcclxuXHJcbiAgICBhd2FpdCBkYlxyXG4gICAgICAudXBkYXRlKHBhc3N3b3JkUmVzZXRzKVxyXG4gICAgICAuc2V0KHsgdXNlZDogdHJ1ZSB9KVxyXG4gICAgICAud2hlcmUoZXEocGFzc3dvcmRSZXNldHMuaWQsIHJvdy5pZCkpO1xyXG5cclxuICAgIC8vIFJldm9jYXIgdG9kb3MgbG9zIHJlZnJlc2ggdG9rZW5zXHJcbiAgICBhd2FpdCBkYlxyXG4gICAgICAudXBkYXRlKHJlZnJlc2hUb2tlbnMpXHJcbiAgICAgIC5zZXQoeyByZXZva2VkOiB0cnVlIH0pXHJcbiAgICAgIC53aGVyZShlcShyZWZyZXNoVG9rZW5zLnVzZXJfaWQsIHJvdy51c2VyX2lkKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aFNlcnZpY2UgPSBuZXcgQXV0aFNlcnZpY2UoKTtcclxuXHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVIYXNoIiwicmFuZG9tVVVJRCIsImVxIiwiYW5kIiwiZGIiLCJjdXN0b21Vc2VycyIsInJlZnJlc2hUb2tlbnMiLCJwYXNzd29yZFJlc2V0cyIsImhhc2hQYXNzd29yZCIsInZlcmlmeVBhc3N3b3JkIiwic2lnbkFjY2Vzc1Rva2VuIiwiZ2VuZXJhdGVSZWZyZXNoVG9rZW4iLCJzdXBhYmFzZSIsIkFwcEVycm9yIiwiVW5hdXRob3JpemVkRXJyb3IiLCJDb25mbGljdEVycm9yIiwic2hhMjU2IiwidmFsdWUiLCJ1cGRhdGUiLCJkaWdlc3QiLCJBQ0NFU1NfVE9LRU5fU0VDUyIsIlJFRlJFU0hfVE9LRU5fREFZUyIsImlzc3VlVG9rZW5zIiwidXNlcklkIiwiZW1haWwiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsInRva2VuSGFzaCIsImV4cGlyZXNBdCIsIkRhdGUiLCJub3ciLCJpbnNlcnQiLCJ2YWx1ZXMiLCJ1c2VyX2lkIiwidG9rZW5faGFzaCIsImV4cGlyZXNfYXQiLCJleHBpcmVzSW4iLCJBdXRoU2VydmljZSIsInJlZ2lzdGVyIiwicGFzc3dvcmQiLCJleGlzdGluZyIsInNlbGVjdCIsImlkIiwiZnJvbSIsIndoZXJlIiwidG9Mb3dlckNhc2UiLCJsaW1pdCIsImxlbmd0aCIsInBhc3N3b3JkSGFzaCIsInVzZXIiLCJwYXNzd29yZF9oYXNoIiwicmV0dXJuaW5nIiwicHJvZmlsZXMiLCJ1c2VybmFtZSIsInNsaWNlIiwidG9rZW5zIiwibG9naW5XaXRoUGFzc3dvcmQiLCJ2YWxpZCIsImxvZ2luV2l0aE9BdXRoIiwicHJvdmlkZXIiLCJkYXRhIiwiZXJyb3IiLCJhdXRoIiwic2lnbkluV2l0aE9BdXRoIiwib3B0aW9ucyIsInJlZGlyZWN0VG8iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsIm1lc3NhZ2UiLCJ1cmwiLCJsb2dvdXQiLCJzZXQiLCJyZXZva2VkIiwicmVmcmVzaFNlc3Npb24iLCJyb3ciLCJzZW5kUGFzc3dvcmRSZXNldCIsInRva2VuIiwidXNlZCIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidXBkYXRlZF9hdCIsInJlc2V0UGFzc3dvcmRXaXRoVG9rZW4iLCJhdXRoU2VydmljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/modules/auth/auth.service.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = import("bcryptjs");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "postgres":
/*!***************************!*\
  !*** external "postgres" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = import("postgres");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/drizzle-orm","vendor-chunks/jose","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.ts&appDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpc%5COneDrive%5CDocumentos%5CGitHub%5CTienda-Ropa-Virtual%5CBack&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();